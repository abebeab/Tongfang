<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Smart Hospital Access | Tongfang BMS</title>
    <meta content="width=device-width, initial-scale=1.0, user-scalable=no" name="viewport">
    <link href="https://pub-a5f450143ad2463386790a33e174fc15.r2.dev/img/logo.png" rel="icon" type="image/jpeg">
  
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800;900&family=Open+Sans:wght@300;400;600&display=swap" rel="stylesheet">
    <!-- Icons -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <!-- Bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Swiper -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.css" />

    <style>
        :root {
            /* BRAND COLORS */
            --tf-blue: #004ca3;       
            --tf-yellow: #ffcc00;     
            --tf-red: #e60012;        
            
            /* UI COLORS */
            --tf-dark: #111827;       
            --tf-text: #4b5563;       
            --tf-bg-light: #f9fafb;   
            --tf-white: #ffffff;
            
            --header-height: 80px;
            --card-radius: 12px;
            --transition: all 0.3s cubic-bezier(0.165, 0.84, 0.44, 1);
        }

        body { 
            background-color: var(--tf-white); 
            font-family: 'Open Sans', sans-serif; 
            margin: 0; 
            overflow-x: hidden; 
            color: var(--tf-text); 
            line-height: 1.7;
            padding-top: var(--header-height); /* Fixed header offset */
        }
        
        h1, h2, h3, h4, h5 { 
            font-family: 'Montserrat', sans-serif; 
            font-weight: 700; 
            color: var(--tf-blue); 
        }
        
        .header-logo a,
        .header-logo a:hover {
            text-decoration: none !important;
        }

        /* --- 1. GLASS HEADER & DROPDOWN --- */
        .header-fix { 
            width: 100%; 
            position: fixed; 
            top: 0; 
            z-index: 1030; 
            min-height: var(--header-height); 
            background: rgba(0, 0, 0, 0.6); 
            backdrop-filter: blur(12px);
            transition: var(--transition); 
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        
        .header-fix.scrolled { 
            background: rgba(255, 255, 255, 0.98); 
            border-bottom: 1px solid rgba(0,0,0,0.05); 
            box-shadow: 0 4px 20px rgba(0,0,0,0.03); 
        }
        
        .header-container { 
            max-width: 1440px; 
            margin: 0 auto; 
            display: flex; 
            align-items: center; 
            justify-content: space-between; 
            padding: 0 20px; 
            height: var(--header-height); 
        }
        
        /* Desktop Menu */
        .nav-menu { 
            display: flex; 
            gap: 30px; 
            height: 100%; 
            margin-left: auto; 
            margin-right: 40px; 
            align-items: center; 
        }
        
        .nav-link-custom { 
            color: #fff; 
            font-weight: 600; 
            font-size: 13px; 
            text-transform: uppercase; 
            line-height: var(--header-height); 
            display: block; 
            position: relative; 
            letter-spacing: 0.5px;
            text-decoration: none;
            cursor: pointer;
        }
        
        .nav-link-custom:hover { 
            color: var(--tf-yellow); 
        }
        
        .header-fix.scrolled .nav-link-custom { 
            color: var(--tf-dark); 
        }
        
        .header-fix.scrolled .nav-link-custom:hover { 
            color: var(--tf-blue); 
        }
        
        .header-fix.scrolled .header-logo h2 { 
            color: var(--tf-blue) !important; 
        }
        
        .header-fix.scrolled .header-logo h2 span { 
            color: var(--tf-yellow) !important; 
        }
        
       .header-right-actions {
    display: flex;
    align-items: center;
    gap: 10px; /* Reduced from 20px for tighter spacing */
}
        
        .header-icons { 
            display: flex !important; 
            align-items: center; 
            gap: 15px; 
            color: white;
        }
        
        .header-fix.scrolled .header-icons { 
            color: var(--tf-dark) !important; 
        }

        .header-fix.scrolled .mobile-toggle { 
            color: var(--tf-dark) !important; 
        }

        /* Dropdown Wrapper */
        .nav-item-dropdown { 
            position: relative; 
            height: 100%; 
            display: flex; 
            align-items: center;
        }

        /* Toggle Icon (Hidden on Desktop, Visible Mobile) */
        .mobile-dropdown-toggle {
            display: none;
            color: inherit;
            padding: 10px 15px;
            cursor: pointer;
            font-size: 14px;
        }
        
        /* Desktop Arrow */
        .desktop-arrow {
            display: inline-block;
            margin-left: 5px;
            font-size: 11px;
        }

        .dropdown-menu-custom {
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%) translateY(10px); 
            width: 700px;
            background: #fff;
            box-shadow: 0 15px 50px rgba(0,0,0,0.15);
            border-top: 3px solid var(--tf-yellow);
            border-radius: 0 0 8px 8px;
            padding: 30px;
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            z-index: 1100;
        }

        .dropdown-menu-custom::before {
            content: "";
            position: absolute;
            top: -20px; left: 0; width: 100%; height: 20px; background: transparent;
        }

        /* Hover Effect Desktop */
        @media (min-width: 992px) {
            .nav-item-dropdown:hover .dropdown-menu-custom { 
                opacity: 1; 
                visibility: visible; 
                transform: translateX(-50%) translateY(0); 
            }
        }

        .dropdown-link {
            color: #555; 
            font-size: 13px; 
            font-weight: 600;
            padding: 6px 10px; 
            border-radius: 4px; 
            display: block;
            border-left: 2px solid transparent;
            text-decoration: none;
        }
        
        .dropdown-link:hover {
            background: #f4f7fa; 
            color: var(--tf-blue);
            border-left: 2px solid var(--tf-blue);
            padding-left: 15px;
        }
        
        .dropdown-category {
            grid-column: span 3; 
            color: var(--tf-blue); 
            font-size: 11px; 
            font-weight: 800; 
            text-transform: uppercase; 
            letter-spacing: 1px; 
            margin-top: 10px; 
            margin-bottom: 5px;
            border-bottom: 1px solid #eee; 
            padding-bottom: 5px;
        }

        /* Mobile Menu Toggle */
        .mobile-toggle { 
            display: none; 
            font-size: 24px; 
            color: white; 
            cursor: pointer; 
            background: none;
            border: none;
            padding: 0;
        }

        /* --- MOBILE ADJUSTMENTS (Max-Width 991px) --- */
        @media (max-width: 991px) {
            .header-fix { height: auto; }
            
            .header-container {
                padding: 0 20px;
                /* Standard Flex behavior: Logo Left, Group Right */
                justify-content: space-between; 
            }
            
            .nav-menu {
                display: none; 
                position: absolute;
                top: 80px; left: 0; width: 100%;
                background: white;
                flex-direction: column;
                height: auto;
                padding: 0;
                margin: 0;
                box-shadow: 0 10px 30px rgba(0,0,0,0.1);
                align-items: flex-start;
                overflow-y: auto;
                max-height: 80vh;
            }
            
            .nav-menu.active { display: flex; }

            /* Link Styles Mobile */
            .nav-link-custom { 
                color: #333; 
                width: 100%; 
                padding: 15px 25px; 
                line-height: 1.5;
                border-bottom: 1px solid #eee;
            }
            
            /* DROPDOWN LOGIC MOBILE */
            .nav-item-dropdown { 
                width: 100%; 
                flex-direction: column; /* Stack Menu under Link */
                height: auto;
                border-bottom: 1px solid #eee;
            }
            
            /* Container for Link + Toggle Button */
            .mobile-link-wrapper {
                display: flex;
                width: 100%;
                align-items: center;
                justify-content: space-between;
            }
            
            /* Make the link take available space */
            .nav-item-dropdown .nav-link-custom {
                border-bottom: none; /* Removed border from link, put on wrapper */
                width: auto;
                flex-grow: 1;
            }

            /* Show the separate toggle button */
            .mobile-dropdown-toggle {
                display: flex;
                align-items: center;
                justify-content: center;
                width: 60px;
                height: 100%;
                border-left: 1px solid #eee;
                color: #333;
            }
            
            .mobile-dropdown-toggle:active {
                background-color: #f0f0f0;
            }

            /* Hide the small arrow inside the link text on mobile */
            .desktop-arrow { display: none; }
            
            /* Dropdown Menu Mobile */
            .dropdown-menu-custom {
                position: static;
                width: 100%;
                transform: none;
                opacity: 1; 
                visibility: visible;
                display: none; /* Hidden via JS toggle */
                box-shadow: none;
                border-top: none;
                padding: 10px 30px 20px 30px;
                background: #f9f9f9;
                grid-template-columns: 1fr; 
            }
            
            .dropdown-menu-custom::before { display: none; }
            
            /* When Active Class added by JS */
            .nav-item-dropdown.active .dropdown-menu-custom { 
                display: grid; 
            }
            
            .nav-item-dropdown.active .mobile-dropdown-toggle i {
                transform: rotate(180deg);
                transition: transform 0.3s;
            }
            
            .dropdown-category { grid-column: span 1; }

            /* Header Elements */
            .mobile-toggle { display: block; }
            
            /* Ensure Icons and Toggle are grouped right */
            .header-right-actions {
                display: flex;
                flex-direction: row; /* Force row */
                gap: 20px;
            }

            .hero-title { font-size: 2.5rem !important; }
            .hero-section { height: 60vh; min-height: 400px; }
        }

        @media (max-width: 576px) {
            .header-right-actions { gap: 15px; }
            .header-icons { gap: 10px !important; }
            .header-logo h2 { font-size: 1.3rem !important; }
            .hero-title { font-size: 2rem !important; }
        }

        /* --- REST OF CSS (Map, Scenarios, etc) --- */
        /* ... keeping your existing CSS for body content ... */
        .hero-section {
            height: 65vh; 
            min-height: 500px;
            background: linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1)), url('https://pub-a5f450143ad2463386790a33e174fc15.r2.dev/img/solutions/smart-hospital/hero-banner.jpg');
            background-size: cover; 
            background-position: center;
            display: flex; 
            align-items: center; 
            position: relative;
        }
        
        .hero-content { 
            position: relative; 
            z-index: 2; 
            padding-top: 60px; 
            animation: fadeUp 1s ease-out; 
            text-shadow: 0 2px 20px rgba(0,0,0,0.7); 
        }
        
        .hero-title { 
            font-size: 3.5rem; 
            font-weight: 900; 
            color: #fff; 
            margin-bottom: 15px; 
        }
        
        .hero-sub { 
            color: #fff; 
            font-size: 1.25rem; 
            max-width: 700px; 
            font-weight: 600; 
        }
        
        @keyframes fadeUp { 
            from { opacity: 0; transform: translateY(30px); } 
            to { opacity: 1; transform: translateY(0); } 
        }

        /* Sub Nav */
        .project-nav-bar {
            position: sticky; top: 80px; z-index: 1020;
            background: #fff; padding: 15px 0;
            border-bottom: 1px solid rgba(0,0,0,0.08);
            box-shadow: 0 5px 15px rgba(0,0,0,0.03);
        }
        .nav-breadcrumb .breadcrumb-item a { 
            color: #666; font-weight: 700; text-transform: uppercase; 
            font-size: 12px; letter-spacing: 0.5px; text-decoration: none; 
        }
        .nav-breadcrumb .breadcrumb-item a:hover, 
        .nav-breadcrumb .breadcrumb-item.active a { color: var(--tf-blue) !important; }
        .nav-breadcrumb .breadcrumb-item.active::after {
            content: ""; position: absolute; left: 0; bottom: -6px; 
            width: 100%; height: 3px; background: var(--tf-yellow); border-radius: 10px;
        }
        .nav-breadcrumb .breadcrumb-item { position: relative; }
        .nav-breadcrumb .breadcrumb-item+.breadcrumb-item::before { content: "|"; color: #ccc; padding: 0 10px; }

        /* Map & Scenarios */
        .scroll-target { scroll-margin-top: 160px; }
        .interactive-map-container {
            position: relative; width: 100%; border-radius: var(--card-radius); 
            overflow: hidden; box-shadow: 0 20px 40px rgba(0,0,0,0.1); 
            border: 1px solid rgba(0,0,0,0.05); margin-bottom: 40px;
        }
        .map-img { width: 100%; height: auto; display: block; }
        .hotspot {
            position: absolute; display: flex; align-items: center; cursor: pointer; 
            z-index: 10; transform: translate(-50%, -50%);
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        .hotspot:hover { z-index: 20; transform: translate(-50%, -50%) scale(1.1); }
        .hotspot-dot {
            width: 36px; height: 36px; background-color: var(--tf-blue); color: #fff;
            border-radius: 50%; display: flex; align-items: center; justify-content: center;
            font-weight: 800; font-family: 'Montserrat', sans-serif; font-size: 16px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.3); border: 2px solid #fff; transition: 0.3s;
        }
        .hotspot.active .hotspot-dot {
            background-color: var(--tf-yellow); color: var(--tf-dark);
            transform: scale(1.3); box-shadow: 0 0 0 5px rgba(255, 204, 0, 0.4);
        }
        .hotspot-label {
            background-color: #fff; color: #333; padding: 6px 14px; border-radius: 20px;
            font-size: 12px; font-weight: 700; margin-left: 10px; white-space: nowrap;
            box-shadow: 0 4px 15px rgba(0,0,0,0.12); z-index: 5;
        }
        .hotspot.active .hotspot-label { background: var(--tf-dark); color: #fff; }

        .section-header { text-align: center; margin-bottom: 60px; }
        .section-header h2 { font-size: 36px; text-transform: uppercase; letter-spacing: -1px; }
        .section-header .line { width: 60px; height: 5px; background: var(--tf-yellow); margin: 15px auto; border-radius: 10px; }
        .scenario-wrapper { background: #f8f9fa; border-top: 1px solid #eee; padding: 60px 0; min-height: 500px; }
        .scenario-box { display: none; opacity: 0; transform: translateY(20px); transition: 0.5s ease; }
        .scenario-box.active { display: block; opacity: 1; transform: translateY(0); }
        .challenge-card, .solution-card {
            background: #fff; padding: 24px 28px; border-radius: 12px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.04); height: auto;
        }
        .challenge-card { border-left: 4px solid var(--tf-red); margin-bottom: 20px; }
        .challenge-card ul { padding-left: 18px; }
        .challenge-card li { margin-bottom: 6px; }
        .solution-card { border-left: 4px solid var(--tf-blue); }
        .col-lg-5 { display: flex; flex-direction: column; }
        .scenario-img { width: 100%; border-radius: 12px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); margin-bottom: 20px; }

        .topology-img { width: 100%; border-radius: 12px; border: 1px solid #eee; box-shadow: 0 10px 40px rgba(0,0,0,0.04); }
        .topology-box { display: none; opacity: 0; transform: translateY(20px); transition: opacity 0.5s ease, transform 0.5s ease; }
        .topology-box.active { display: block; opacity: 1; transform: translateY(0); }
        
        .related-card {
            background: #fff; border-radius: var(--card-radius); overflow: hidden;
            box-shadow: 0 10px 40px rgba(0,0,0,0.04); transition: 0.3s; 
            text-decoration: none; color: inherit; height: 100%; display: block;
        }
        .related-card:hover { transform: translateY(-5px); box-shadow: 0 25px 50px rgba(0, 76, 163, 0.15); }
        .related-card img { width: 100%; height: 200px; object-fit: cover; }
        .related-content { padding: 20px; }
        .related-title { font-weight: 700; color: var(--tf-blue); margin-bottom: 10px; font-size: 1.1rem; }

        .product-card {
            background: #fff; padding: 40px 20px; border-radius: var(--card-radius);
            text-align: center; border: 1px solid #f0f0f0; transition: 0.3s;
        }
        .product-card:hover { border-color: var(--tf-blue); transform: translateY(-5px); box-shadow: 0 15px 30px rgba(0,0,0,0.08); }
        .product-card img { height: 160px; object-fit: contain; margin-bottom: 25px; }

        .footer { background: #0b111a; color: #aaa; padding-top: 80px; font-size: 14px; }
        .footer h5 { color: #fff; margin-bottom: 30px; }
        .footer a { color: var(--tf-blue) !important; text-decoration: none; transition: 0.3s; font-weight: 600; }
        .footer a:hover { color: var(--tf-yellow) !important; text-decoration: underline; }
        .copyright { background: #05080c; border-top: 1px solid #1a222e; padding: 25px 0; margin-top: 60px; }
    </style>
</head>

<body>

    <!-- HEADER -->
    <header>
        <div id="navBox" class="header-fix">
            <div class="header-container">
                <!-- LOGO (Left) -->
                <div class="header-logo">
                    <a href="/index.html">
                        <h2 style="color:#fff; margin:0; font-family:'Montserrat'; font-weight:900;">
                            TONGFANG <span style="color:var(--tf-yellow)">BMS</span>
                        </h2>
                    </a>
                </div>
                
                <!-- NAVIGATION -->
                <nav id="mainNav" class="nav-menu">
                    <a href="/about/index.html" class="nav-link-custom">About</a>
                    
                    <!-- SOLUTIONS DROPDOWN -->
                    <div class="nav-item-dropdown">
                        <!-- Wrapper to separate Text and Toggle Button on Mobile -->
                        <div class="mobile-link-wrapper">
                            <a href="/solutions/index.html" class="nav-link-custom">
                                Solutions 
                                <span class="desktop-arrow"><i class="fa fa-angle-down"></i></span>
                            </a>
                            <!-- Specific Button for Toggling Dropdown on Mobile -->
                            <span class="mobile-dropdown-toggle">
                                <i class="fa fa-angle-down"></i>
                            </span>
                        </div>
                        
                        <div class="dropdown-menu-custom">
                            <!-- Col 1: Buildings -->
                            <div>
                                <div class="dropdown-category">Buildings</div>
                                <a href="/solutions/residential/index.html" class="dropdown-link">Residential</a>
                                <a href="/solutions/office/index.html" class="dropdown-link">Office Buildings</a>
                                <a href="/solutions/hotel-smart-security/index.html" class="dropdown-link">Hotels & Hospitality</a>
                                <a href="/solutions/smart-campus-hub/index.html" class="dropdown-link">Educational Institutions</a>
                                <a href="/solutions/retail/index.html" class="dropdown-link">Shopping Malls</a>
                            </div>
                            <!-- Col 2: Infrastructure -->
                            <div>
                                <div class="dropdown-category">Infrastructure</div>
                                <a href="/solutions/smart-hospital-access/index.html" class="dropdown-link">Hospitals & Healthcare</a>  
                                <a href="/solutions/airport/index.html" class="dropdown-link">Airports</a>
                                <a href="/solutions/industrial/index.html" class="dropdown-link">Smart Factories</a>
                                <a href="/solutions/ipdc/index.html" class="dropdown-link">Data Centers (IPDC)</a>
                                <a href="/solutions/smart-port-platform/index.html" class="dropdown-link">Smart Ports</a>  
                            </div>
                            <!-- Col 3: Cities & Systems -->
                            <div>
                                <div class="dropdown-category">City Systems</div>
                                <a href="/solutions/smart-city/index.html" class="dropdown-link">Smart Cities</a>
                                <a href="/solutions/traffic/index.html" class="dropdown-link">Smart Traffic</a>
                                <a href="/solutions/sports-center-automation/index.html" class="dropdown-link">Sports & Stadiums</a>
                                <a href="/solutions/parking-lots/index.html" class="dropdown-link">Parking Lots</a>
                                <a href="/solutions/energy-carbon-optimization/index.html" class="dropdown-link">Energy</a>
                            </div>
                        </div>
                    </div>
                    
                    <!-- PRODUCTS DROPDOWN -->
                    <div class="nav-item-dropdown">
                        <div class="mobile-link-wrapper">
                            <a href="/products/index.html" class="nav-link-custom">
                                Products 
                                <span class="desktop-arrow"><i class="fa fa-angle-down"></i></span>
                            </a>
                            <!-- Specific Button for Toggling Dropdown on Mobile -->
                            <span class="mobile-dropdown-toggle">
                                <i class="fa fa-angle-down"></i>
                            </span>
                        </div>
                        
                        <div class="dropdown-menu-custom">
                            <!-- Col 1 -->
                            <div>
                                <div class="dropdown-category">Core Controllers</div>
                                <a href="/products/ddc-controllers/index.html" class="dropdown-link">DDC Controllers</a>
                                <a href="/products/io-modules/index.html" class="dropdown-link">I/O Modules</a>
                            </div>
                            <!-- Col 2 -->
                            <div>
                                <div class="dropdown-category">Field Instrumentation</div>
                                <a href="/products/sensors-thermostats/index.html" class="dropdown-link">Sensors & Thermostats</a>
                                <a href="/products/valves-actuators/index.html" class="dropdown-link">Valves & Actuators</a>
                            </div>
                            <!-- Col 3 -->
                            <div>
                                <div class="dropdown-category">Management & Power</div>
                                <a href="/products/bms-software/index.html" class="dropdown-link">BMS Software</a>
                                <a href="/products/energy-meters/index.html" class="dropdown-link">Energy Meters</a>
                                <a href="/products/control-panels/index.html" class="dropdown-link">Control Panels</a>
                            </div>
                        </div>
                    </div>

                    <a href="/technologies/index.html" class="nav-link-custom">Technologies</a>
                    <a href="/projects/index.html" class="nav-link-custom">Projects</a>
                    <a href="/contact/index.html" class="nav-link-custom">Contact</a>
                </nav>

               <!-- RIGHT SIDE GROUP (Icons + Hamburger) -->
<div class="header-right-actions">
    <!-- HAMBURGER ICON (Visible on Mobile) - Moved before icons -->
    <button class="mobile-toggle" onclick="toggleMobileMenu()">
        <i class="fa fa-bars"></i>
    </button>

    <!-- Header Icons - Now positioned after hamburger -->
    <div class="header-icons">
        <i class="fa fa-search fs-5" style="cursor: pointer;"></i>
        <i class="fa fa-globe fs-5" style="cursor: pointer;"></i>
    </div>
</div>

            </div>
        </div>
    </header>

    <!-- HERO SECTION -->
    <section class="hero-section">
        <div class="container">
            <div class="col-lg-8 hero-content">
                <h1 class="hero-title">Smart Hospital <br>Access</h1>
            </div>
        </div>
    </section>

    <!-- SUB-NAVIGATION -->
    <div class="project-nav-bar py-3 border-bottom bg-white">
        <div class="container d-flex justify-content-between align-items-center">
            <nav aria-label="breadcrumb" class="nav-breadcrumb">
                <ol class="breadcrumb mb-0">
                    <li class="breadcrumb-item"><a href="#overview">Overview</a></li>
                    <li class="breadcrumb-item"><a href="#scenarios">Scenarios</a></li>
                    <li class="breadcrumb-item"><a href="#topology">Topology</a></li>
                    <li class="breadcrumb-item"><a href="#products">Products</a></li>
                </ol>
            </nav>
            <div class="d-none d-md-block">
                <span class="text-dark fw-bold small" style="letter-spacing:1px;">
                    <i class="fa fa-hospital text-primary me-2"></i>
                    HEALTHCARE SECURITY
                </span>
            </div>
        </div>
    </div>

    <!-- SECTION 1: INTERACTIVE MAP -->
    <section class="py-5 bg-white scroll-target" id="overview">
        <div class="container py-4">
            
            <div class="text-center mb-5">
                <h2 style="font-size: 2.5rem;">Solution Overview</h2>
                <div style="width: 80px; height: 5px; background: var(--tf-yellow); margin: 20px auto; border-radius:10px;"></div>
                <p class="text-muted" style="max-width: 700px; margin: 0 auto;">Click the numbered hotspots below to explore specific healthcare access scenarios.</p>
            </div>

            <!-- MAP CONTAINER -->
            <div class="row justify-content-center">
                <div class="col-12">
                    <div class="interactive-map-container">
                        <img src="https://pub-a5f450143ad2463386790a33e174fc15.r2.dev/img/solutions/smart-hospital/hospital-overview.jpg" alt="Hospital Access Overview" class="map-img">
                        
                        <!-- Hotspots -->
                        <div id="hotspot-1" class="hotspot active" onclick="showScenario(1)" style="top: 10%; left: 10%;">
                            <div class="hotspot-dot">1</div>
                            <div class="hotspot-label">Main Entrance</div>
                        </div>
                        <div id="hotspot-2" class="hotspot" onclick="showScenario(2)" style="top: 65%; left: 40%;">
                            <div class="hotspot-dot">2</div>
                            <div class="hotspot-label">Emergency Department</div>
                        </div>
                        <div id="hotspot-3" class="hotspot" onclick="showScenario(3)" style="top: 55%; left:60%;">
                            <div class="hotspot-dot">3</div>
                            <div class="hotspot-label">Patient Rooms</div>
                        </div>
                        
                        <!-- FIXED HOTSPOT 4 -->
                        <div id="hotspot-4" class="hotspot" onclick="showScenario(4)" style="top: 45%; left: 35%;">
                            <div class="hotspot-dot">4</div>
                            <div class="hotspot-label">Pharmacy</div>
                        </div>
                        
                        <div id="hotspot-5" class="hotspot" onclick="showScenario(5)" style="top: 13%; left: 90%;">
                            <div class="hotspot-dot">5</div>
                            <div class="hotspot-label">Control Center</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- SECTION 2: SCENARIO DETAILS (Dynamic Content) -->
    <section id="scenarios" class="scenario-wrapper">
        <div class="container">
            
            <!-- 1. MAIN ENTRANCE -->
            <div id="content-1" class="scenario-box active">
                <h3 class="mb-4 text-primary">1. Main Entrance & Visitor Management</h3>
                <div class="row g-5">
                    <div class="col-lg-5">
                        <div class="challenge-card mb-4">
                            <h5 class="text-danger fw-bold"><i class="fa fa-exclamation-triangle me-2"></i>Challenges</h5>
                           <ul class="text-muted mb-0">
    <li>High volume of visitors and staff traffic</li>
    <li>Difficulty distinguishing between staff, patients, and visitors</li>
    <li>Potential security breaches during peak hours</li>
    <li>Limited contact tracing capabilities</li>
</ul>
   </div>
                        <div class="solution-card">
                            <h5 class="text-primary fw-bold"><i class="fa fa-check-circle me-2"></i>Tongfang Solution</h5>
                            <p><strong>Multi-factor Authentication:</strong> Biometric + RFID + facial recognition for staff access.</p>
                            <p><strong>Visitor Management System:</strong> Digital registration with ID verification.</p>
                            <p><strong>Thermal Screening:</strong> Automated temperature checks and mask detection.</p>
                            <p><strong>Contact Tracing:</strong> Integration with digital health passes.</p>
                        </div>
                    </div>
                    <div class="col-lg-7">
                        <img src="https://pub-a5f450143ad2463386790a33e174fc15.r2.dev/img/solutions/smart-hospital/main-entrance.jpg" class="scenario-img" alt="Main Entrance">
                        <h5 class="mt-3">Key Features:</h5>
                        <ul class="list-inline">
                            <li class="list-inline-item me-4"><i class="fa fa-fingerprint text-success"></i> Biometric Access</li>
                            <li class="list-inline-item me-4"><i class="fa fa-thermometer text-success"></i> Thermal Screening</li>
                            <li class="list-inline-item"><i class="fa fa-camera text-success"></i> Facial Recognition</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- 2. EMERGENCY DEPARTMENT -->
            <div id="content-2" class="scenario-box">
                <h3 class="mb-4 text-primary">2. Emergency Department Access</h3>
                <div class="row g-5">
                    <div class="col-lg-5">
                        <div class="challenge-card mb-4">
                            <h5 class="text-danger fw-bold"><i class="fa fa-exclamation-triangle me-2"></i>Challenges</h5>
                            <ul class="text-muted mb-0">
                                <li>Need for rapid access during emergencies</li>
                                <li>Preventing unauthorized access to restricted areas</li>
                                <li>Maintaining infection control protocols</li>
                                <li>Tracking patient movement within ED</li>
                            </ul>
                        </div>
                        <div class="solution-card">
                            <h5 class="text-primary fw-bold"><i class="fa fa-check-circle me-2"></i>Tongfang Solution</h5>
                            <p><strong>Rapid Entry Systems:</strong> Hands-free doors for emergency personnel.</p>
                            <p><strong>Zone-based Access Control:</strong> Different permissions for trauma rooms, isolation areas, and staff zones.</p>
                            <p><strong>Patient Tracking:</strong> RFID wristbands for patient location monitoring.</p>
                            <p><strong>Emergency Override:</strong> Fire and emergency lockdown protocols.</p>
                        </div>
                    </div>
                    <div class="col-lg-7">
                        <img src="https://pub-a5f450143ad2463386790a33e174fc15.r2.dev/img/solutions/smart-hospital/Emergency-Department.png" class="scenario-img" alt="Emergency Department">
                        <h5 class="mt-3">Key Features:</h5>
                        <ul class="list-inline">
                            <li class="list-inline-item me-4"><i class="fa fa-running text-success"></i> Rapid Access</li>
                            <li class="list-inline-item me-4"><i class="fa fa-map-marker-alt text-success"></i> Zone Control</li>
                            <li class="list-inline-item"><i class="fa fa-user-md text-success"></i> Patient Tracking</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- 3. PATIENT ROOMS -->
            <div id="content-3" class="scenario-box">
                <h3 class="mb-4 text-primary">3. Patient Room Access & Safety</h3>
                <div class="row g-5">
                    <div class="col-lg-5">
                        <div class="challenge-card mb-4">
                            <h5 class="text-danger fw-bold"><i class="fa fa-exclamation-triangle me-2"></i>Challenges</h5>
                            <ul class="text-muted mb-0">
                                <li>Controlling access to patient medications and records</li>
                                <li>Preventing unauthorized entry to patient rooms</li>
                                <li>Emergency nurse call integration</li>
                                <li>Monitoring patient movements for safety</li>
                            </ul>
                        </div>
                        <div class="solution-card">
                            <h5 class="text-primary fw-bold"><i class="fa fa-check-circle me-2"></i>Tongfang Solution</h5>
                            <p><strong>Smart Door Locks:</strong> RFID/NFC access for authorized staff only.</p>
                            <p><strong>Bedside Control Panels:</strong> Integrated nurse call and access control.</p>
                            <p><strong>Fall Detection:</strong> Integration with patient monitoring systems.</p>
                            <p><strong>Medication Cabinets:</strong> Biometric access to controlled substances.</p>
                        </div>
                    </div>
                    <div class="col-lg-7">
                        <img src="https://pub-a5f450143ad2463386790a33e174fc15.r2.dev/img/solutions/smart-hospital/patient-room.jpg" class="scenario-img" alt="Patient Rooms">
                        <h5 class="mt-3">Key Features:</h5>
                        <ul class="list-inline">
                            <li class="list-inline-item me-4"><i class="fa fa-door-closed text-success"></i> Smart Locks</li>
                            <li class="list-inline-item me-4"><i class="fa fa-bell text-success"></i> Nurse Call</li>
                            <li class="list-inline-item"><i class="fa fa-shield-alt text-success"></i> Fall Detection</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- 4. PHARMACY -->
            <div id="content-4" class="scenario-box">
                <h3 class="mb-4 text-primary">4. Pharmacy & Medication Storage</h3>
                <div class="row g-5">
                    <div class="col-lg-5">
                        <div class="challenge-card mb-4">
                            <h5 class="text-danger fw-bold"><i class="fa fa-exclamation-triangle me-2"></i>Challenges</h5>
                            <ul class="text-muted mb-0">
                                <li>Strict regulatory compliance requirements</li>
                                <li>Preventing theft of controlled substances</li>
                                <li>Tracking medication inventory accurately</li>
                                <li>Limited access to authorized personnel only</li>
                            </ul>
                        </div>
                        <div class="solution-card">
                            <h5 class="text-primary fw-bold"><i class="fa fa-check-circle me-2"></i>Tongfang Solution</h5>
                            <p><strong>Biometric Vault Access:</strong> Fingerprint/retina scanning for narcotic storage.</p>
                            <p><strong>Audit Trail Logging:</strong> Complete digital record of all access events.</p>
                            <p><strong>Inventory Integration:</strong> Access control linked to medication management systems.</p>
                            <p><strong>Time-based Access:</strong> Restrict access to specific hours and personnel.</p>
                        </div>
                    </div>
                    <div class="col-lg-7">
                        <img src="https://images.unsplash.com/photo-1587854692152-cbe660dbde88?auto=format&fit=crop&w=800&q=80" class="scenario-img" alt="Pharmacy">
                        <h5 class="mt-3">Key Features:</h5>
                        <ul class="list-inline">
                            <li class="list-inline-item me-4"><i class="fa fa-fingerprint text-success"></i> Biometric Access</li>
                            <li class="list-inline-item me-4"><i class="fa fa-clipboard-list text-success"></i> Audit Trails</li>
                            <li class="list-inline-item"><i class="fa fa-clock text-success"></i> Time Restrictions</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- 5. CONTROL CENTER -->
            <div id="content-5" class="scenario-box">
                <h3 class="mb-4 text-primary">5. Integrated Security Control Center</h3>
                <div class="row g-5">
                    <div class="col-lg-5">
                        <div class="challenge-card mb-4">
                            <h5 class="text-danger fw-bold"><i class="fa fa-exclamation-triangle me-2"></i>Challenges</h5>
                            <ul class="text-muted mb-0">
                                <li>Multiple disparate security systems</li>
                                <li>Poor situational awareness during incidents</li>
                                <li>Difficult to coordinate emergency responses</li>
                                <li>Compliance reporting is manual and time-consuming</li>
                            </ul>
                        </div>
                        <div class="solution-card">
                            <h5 class="text-primary fw-bold"><i class="fa fa-check-circle me-2"></i>Tongfang Solution</h5>
                            <p><strong>Unified Command Center:</strong> Single dashboard for access control, video surveillance, and alarms.</p>
                            <p><strong>Real-time Monitoring:</strong> Live status of all access points and security devices.</p>
                            <p><strong>Emergency Protocols:</strong> Automated lockdown and evacuation procedures.</p>
                            <p><strong>Compliance Reporting:</strong> Automated audit trails and regulatory reports.</p>
                        </div>
                    </div>
                    <div class="col-lg-7">
                        <img src="https://images.unsplash.com/photo-1558494949-ef010cbdcc31?auto=format&fit=crop&w=800&q=80" class="scenario-img" alt="Control Center">
                        <h5 class="mt-3">Key Features:</h5>
                        <ul class="list-inline">
                            <li class="list-inline-item me-4"><i class="fa fa-desktop text-success"></i> Unified Dashboard</li>
                            <li class="list-inline-item me-4"><i class="fa fa-eye text-success"></i> Real-time Monitoring</li>
                            <li class="list-inline-item"><i class="fa fa-file-contract text-success"></i> Compliance Reports</li>
                        </ul>
                    </div>
                </div>
            </div>

        </div>
    </section>

    <!-- SECTION 3: SYSTEM TOPOLOGY (Dynamic) -->
    <section class="py-5 bg-white scroll-target" id="topology">
        <div class="container">
            <div class="section-header">
                <h2 id="topology-title">Main Entrance System Topology</h2>
                <div class="line"></div>
                <p id="topology-description" class="text-muted">Network architecture for intelligent visitor management and access control at hospital entrances.</p>
            </div>
            
            <!-- DYNAMIC TOPOLOGY CONTENT -->
            <!-- Topology 1: Main Entrance -->
            <div id="topology-1" class="topology-box active">
                <div class="text-center">
                    <img src="https://pub-a5f450143ad2463386790a33e174fc15.r2.dev/img/solutions/smart-hospital/main-entrance-topology.png" class="topology-img" alt="Main Entrance Topology">
                    <div class="row mt-4">
                        <div class="col-md-4">
                            <h5><i class="fa fa-door-open text-primary me-2"></i>Access Control</h5>
                            <p class="small">Biometric turnstiles, facial recognition cameras, and RFID readers</p>
                        </div>
                        <div class="col-md-4">
                            <h5><i class="fa fa-user-check text-primary me-2"></i>Visitor Management</h5>
                            <p class="small">Digital registration kiosks with ID verification and thermal screening</p>
                        </div>
                        <div class="col-md-4">
                            <h5><i class="fa fa-shield-alt text-primary me-2"></i>Security Integration</h5>
                            <p class="small">Integrated with video surveillance and alarm systems</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Topology 2: Emergency Department -->
            <div id="topology-2" class="topology-box">
                <div class="text-center">
                    <img src="https://pub-a5f450143ad2463386790a33e174fc15.r2.dev/img/solutions/smart-hospital/topology-emergency.png" class="topology-img" alt="Emergency Department Topology">
                    <div class="row mt-4">
                        <div class="col-md-4">
                            <h5><i class="fa fa-ambulance text-primary me-2"></i>Rapid Access</h5>
                            <p class="small">Hands-free doors for emergency personnel and ambulance bays</p>
                        </div>
                        <div class="col-md-4">
                            <h5><i class="fa fa-user-injured text-primary me-2"></i>Patient Tracking</h5>
                            <p class="small">RFID wristbands for patient location and movement monitoring</p>
                        </div>
                        <div class="col-md-4">
                            <h5><i class="fa fa-first-aid text-primary me-2"></i>Isolation Zones</h5>
                            <p class="small">Separate access controls for trauma rooms and isolation areas</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Topology 3: Patient Rooms -->
            <div id="topology-3" class="topology-box">
                <div class="text-center">
                    <img src="https://pub-a5f450143ad2463386790a33e174fc15.r2.dev/img/solutions/smart-hospital/topology-patient-rooms.png" class="topology-img" alt="Patient Rooms Topology">
                    <div class="row mt-4">
                        <div class="col-md-4">
                            <h5><i class="fa fa-bed text-primary me-2"></i>Smart Door Locks</h5>
                            <p class="small">RFID/NFC access control for authorized staff only</p>
                        </div>
                        <div class="col-md-4">
                            <h5><i class="fa fa-bell text-primary me-2"></i>Nurse Call Integration</h5>
                            <p class="small">Integrated bedside panels with emergency call functionality</p>
                        </div>
                        <div class="col-md-4">
                            <h5><i class="fa fa-pills text-primary me-2"></i>Medication Security</h5>
                            <p class="small">Biometric access to medication cabinets and storage</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Topology 4: Pharmacy -->
            <div id="topology-4" class="topology-box">
                <div class="text-center">
                    <img src="https://pub-a5f450143ad2463386790a33e174fc15.r2.dev/img/solutions/smart-hospital/topology-pharmacy.png" class="topology-img" alt="Pharmacy Topology">
                    <div class="row mt-4">
                        <div class="col-md-4">
                            <h5><i class="fa fa-prescription-bottle text-primary me-2"></i>Controlled Access</h5>
                            <p class="small">Biometric vaults and time-restricted access to narcotics</p>
                        </div>
                        <div class="col-md-4">
                            <h5><i class="fa fa-clipboard-check text-primary me-2"></i>Audit Trail</h5>
                            <p class="small">Complete digital record of all medication access events</p>
                        </div>
                        <div class="col-md-4">
                            <h5><i class="fa fa-boxes text-primary me-2"></i>Inventory Integration</h5>
                            <p class="small">Access control linked to medication management systems</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Topology 5: Control Center -->
            <div id="topology-5" class="topology-box">
                <div class="text-center">
                    <img src="https://pub-a5f450143ad2463386790a33e174fc15.r2.dev/img/solutions/smart-hospital/control-room-topology.png" class="topology-img" alt="Control Center Topology">
                    <div class="row mt-4">
                        <div class="col-md-4">
                            <h5><i class="fa fa-desktop text-primary me-2"></i>Video Wall System</h5>
                            <p class="small">8x4 LCD configuration for centralized monitoring</p>
                        </div>
                        <div class="col-md-4">
                            <h5><i class="fa fa-server text-primary me-2"></i>Central Management</h5>
                            <p class="small">HikCentral Professional with integrated NVR and switches</p>
                        </div>
                        <div class="col-md-4">
                            <h5><i class="fa fa-network-wired text-primary me-2"></i>Network Infrastructure</h5>
                            <p class="small">Redundant fiber backbone with PoE+ managed switches</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- SECTION 4: EFFICIENT MANAGEMENT -->
    <section class="py-5" style="background: linear-gradient(135deg, var(--tf-blue), #002244); color: #fff;">
        <div class="container text-center">
            <h2 class="mb-4">Performance Metrics</h2>
            <div class="row mt-5">
                <div class="col-md-3">
                    <h3 class="text-warning">99.9%</h3>
                    <p>System Uptime</p>
                </div>
                <div class="col-md-3">
                    <h3 class="text-warning">60%</h3>
                    <p>Reduced Unauthorized Access</p>
                </div>
                <div class="col-md-3">
                    <h3 class="text-warning">24/7</h3>
                    <p>Monitoring & Support</p>
                </div>
                <div class="col-md-3">
                    <h3 class="text-warning">HIPAA</h3>
                    <p>Compliant Systems</p>
                </div>
            </div>
        </div>
    </section>

    <!-- SECTION 5: PRODUCT SHOWCASE -->
    <section class="py-5 bg-white scroll-target" id="products">
        <div class="container">
            <div class="section-header">
                <h2>Recommended Products</h2>
                <div class="line"></div>
                <p class="text-muted">Integrated hardware and software for healthcare facility security.</p>
            </div>

            <div class="swiper swiper-products pb-5">
                <div class="swiper-wrapper">
                    <!-- Product 1 -->
                    <div class="swiper-slide">
                        <div class="product-card h-100">
                            <img src="https://materialfile.dahuasecurity.com/uploads/cpq/prm-os-srv-res/smart/formal/Product/HQ/1_0_01_07_15908/ProductImage/1_0_01_07_15908_729347579_crop_thumb.png" alt="Access Controller">
                            <h5>Hospital DDC Controllers</h5>
                            <p class="small text-muted">Medical-grade controllers for access and environmental control.</p>
                            <a href="/products/ddc-controllers/index.html" class="btn btn-outline-primary btn-sm rounded-pill mt-2">Details</a>
                        </div>
                    </div>
                    <!-- Product 2 -->
                    <div class="swiper-slide">
                        <div class="product-card h-100">
                            <img src="https://material.dahuasecurity.com/uploads/cpq/prm-os-srv-res/smart/formal/Product/HQ/1_0_01_04_43055/ProductImage/1_0_01_04_43055_400556404-Black_crop_thumb.png" alt="Biometric Reader">
                            <h5>Touchless Access Readers</h5>
                            <p class="small text-muted">Hybrid biometric and RFID readers for infection control.</p>
                            <a href="/products/sensors-thermostats/index.html" class="btn btn-outline-primary btn-sm rounded-pill mt-2">Details</a>
                        </div>
                    </div>
                    <!-- Product 3 -->
                    <div class="swiper-slide">
                        <div class="product-card h-100">
                            <img src="https://images.unsplash.com/photo-1558494949-ef010cbdcc31?auto=format&fit=crop&w=400&q=80" alt="Control Panel">
                            <h5>Medical Control Panels</h5>
                            <p class="small text-muted">Hospital-grade control panels with antimicrobial surfaces.</p>
                            <a href="/products/control-panels/index.html" class="btn btn-outline-primary btn-sm rounded-pill mt-2">Details</a>
                        </div>
                    </div>
                    <!-- Product 4 -->
                    <div class="swiper-slide">
                        <div class="product-card h-100">
                            <img src="https://images.unsplash.com/photo-1576087468614-5e0462e9e5c1?auto=format&fit=crop&w=400&q=80" alt="Energy Meter">
                            <h5>Hospital Energy Meters</h5>
                            <p class="small text-muted">Critical power monitoring for medical equipment.</p>
                            <a href="/products/energy-meters/index.html" class="btn btn-outline-primary btn-sm rounded-pill mt-2">Details</a>
                        </div>
                    </div>
                    <!-- Product 5 -->
                    <div class="swiper-slide">
                        <div class="product-card h-100">
                            <img src="https://material.dahuasecurity.com/uploads/cpq/prm-os-srv-res/smart/formal/Product/HQ/1_0_01_07_14876/ProductImage/1_0_01_07_14876_27642791_crop_thumb.png" alt="Software">
                            <h5>Healthcare Security Software</h5>
                            <p class="small text-muted">Unified platform for hospital access and security management.</p>
                            <a href="/products/bms-software/index.html" class="btn btn-outline-primary btn-sm rounded-pill mt-2">Details</a>
                        </div>
                    </div>
                </div>
                <div class="swiper-pagination"></div>
            </div>
        </div>
    </section>

    <!-- SECTION 6: RELATED SOLUTIONS -->
    <section class="py-5 bg-light">
        <div class="container">
            <div class="section-header">
                <h2>Solutions You May Be Interested In</h2>
                <div class="line"></div>
            </div>
            <div class="row g-4 justify-content-center">
                <!-- Related 1 -->
                <div class="col-md-5">
                    <a href="/solutions/smart-campus-hub/index.html" class="related-card">
                        <img src="https://pub-a5f450143ad2463386790a33e174fc15.r2.dev/img/solutions/smart-campus-hub/campus.jpg" alt="Educational Institutions">
                        <div class="related-content">
                            <div class="related-title">Educational Institutions</div>
                            <p class="small text-muted">Smart campus solutions for schools, colleges, and universities.</p>
                        </div>
                    </a>
                </div>
                <!-- Related 2 -->
                <div class="col-md-5">
                    <a href="/solutions/hotel-smart-security/index.html" class="related-card">
                        <img src="https://images.unsplash.com/photo-1566073771259-6a8506099945?auto=format&fit=crop&w=800&q=80" alt="Hotels & Hospitality">
                        <div class="related-content">
                            <div class="related-title">Hotels & Hospitality</div>
                            <p class="small text-muted">Integrated security and automation solutions for hospitality venues.</p>
                        </div>
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- FOOTER -->
    <footer class="footer">
        <div class="container py-5">
            <div class="row g-4">
                <div class="col-lg-4 col-md-6">
                    <h5>Tongfang BMS Integration</h5>
                    <p><i class="fa fa-map-marker-alt me-2"></i> Addis Ababa, Ethiopia</p>
                    <p><i class="fa fa-phone-alt me-2"></i> +251 9 11249722</p>
                    <p><i class="fa fa-envelope me-2"></i> info@tongfangbms.com</p>
                </div>
                <div class="col-lg-2 col-md-6">
                    <h5>Quick Links</h5>
                    <a class="d-block mb-2" href="/index.html">Home</a>
                    <a class="d-block mb-2" href="/about/index.html">About Us</a>
                    <a class="d-block mb-2" href="/solutions/index.html">Solutions</a>
                    <a class="d-block mb-2" href="/projects/index.html">Projects</a>
                    <a class="d-block mb-2" href="/products/index.html">Products</a>
                    <a class="d-block mb-2" href="/technologies/index.html">Technologies</a>
                    <a class="d-block mb-2" href="/contact/index.html">Contact</a>
                </div>
                <div class="col-lg-3 col-md-6">
                    <h5>Business Hours</h5>
                    <p>Mon  Fri: 8:30 AM  5:30 PM</p>
                    <p>Saturday: 9:00 AM  1:00 PM</p>
                    <p>Sunday: Closed</p>
                </div>
                <div class="col-lg-3 col-md-6">
                    <h5>Newsletter</h5>
                    <p>Subscribe for updates.</p>
                    <div class="position-relative">
                        <input class="form-control" type="email" placeholder="Your email">
                        <button class="btn btn-primary position-absolute end-0 top-0 h-100">Go</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="copyright text-center py-3"> 2026 Tongfang BMS Integration PLC. All Rights Reserved.</div>
    </footer>

    <!-- SCRIPTS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.js"></script>
    <script>
        // Current active scenario
        let currentScenario = 1;
        
        // Header Scroll
        window.addEventListener('scroll', function() {
            const header = document.getElementById('navBox');
            if (window.scrollY > 50) { 
                header.classList.add('scrolled'); 
            } else { 
                header.classList.remove('scrolled'); 
            }
        });

        // Mobile Menu Toggle Function
        function toggleMobileMenu() {
            const navMenu = document.getElementById('mainNav');
            navMenu.classList.toggle('active');
        }

        // Close dropdowns when clicking outside (for mobile)
        document.addEventListener('click', function(event) {
            const navMenu = document.getElementById('mainNav');
            const mobileToggle = document.querySelector('.mobile-toggle');
            
            // Check if click was inside menu or on toggle button
            if (!navMenu.contains(event.target) && !mobileToggle.contains(event.target)) {
                navMenu.classList.remove('active');
            }
        });

        // UPDATED: Mobile dropdown toggle functionality
        // Instead of clicking the link, we listen for clicks on the separate arrow span (.mobile-dropdown-toggle)
        document.querySelectorAll('.mobile-dropdown-toggle').forEach(toggleBtn => {
            toggleBtn.addEventListener('click', function(e) {
                if (window.innerWidth <= 991) {
                    e.preventDefault();
                    e.stopPropagation();
                    
                    // Find the parent .nav-item-dropdown
                    const dropdown = this.closest('.nav-item-dropdown');
                    dropdown.classList.toggle('active');
                    
                    // Close other dropdowns
                    document.querySelectorAll('.nav-item-dropdown').forEach(otherDropdown => {
                        if (otherDropdown !== dropdown) {
                            otherDropdown.classList.remove('active');
                        }
                    });
                }
            });
        });

        // Interactive Map Logic
        function showScenario(id) {
            currentScenario = id;
            
            // Update hotspots
            document.querySelectorAll('.hotspot').forEach(el => el.classList.remove('active'));
            const activeDot = document.getElementById('hotspot-' + id);
            if(activeDot) activeDot.classList.add('active');

            // Update scenario content
            const boxes = document.querySelectorAll('.scenario-box');
            boxes.forEach(el => {
                el.classList.remove('active');
                el.style.display = 'none';
            });
            
            const selectedContent = document.getElementById('content-' + id);
            if(selectedContent) {
                selectedContent.style.display = 'block';
                setTimeout(() => {
                    selectedContent.classList.add('active');
                    // Scroll to scenario section
                    const offset = 140; 
                    const elementPosition = selectedContent.getBoundingClientRect().top;
                    const offsetPosition = elementPosition + window.pageYOffset - offset;
                    window.scrollTo({ top: offsetPosition, behavior: "smooth" });
                }, 10);
            }
            
            // Update topology section
            updateTopology(id);
            
            // Scroll to topology section after a delay
            setTimeout(() => {
                const topologySection = document.getElementById('topology');
                if (topologySection) {
                    const topologyOffset = topologySection.getBoundingClientRect().top + window.pageYOffset - 120;
                    window.scrollTo({ top: topologyOffset, behavior: "smooth" });
                }
            }, 600);
        }
        
        // Update Topology Section
        function updateTopology(scenarioId) {
            // Hide all topology boxes
            document.querySelectorAll('.topology-box').forEach(el => {
                el.classList.remove('active');
                el.style.display = 'none';
            });
            
            // Show selected topology box
            const selectedTopology = document.getElementById('topology-' + scenarioId);
            if (selectedTopology) {
                selectedTopology.style.display = 'block';
                setTimeout(() => {
                    selectedTopology.classList.add('active');
                }, 10);
            }
            
            // Update title and description based on scenario
            const titles = [
                "Main Entrance System Topology",
                "Emergency Department System Topology", 
                "Patient Rooms System Topology",
                "Pharmacy & Medication Storage Topology",
                "Control Center System Topology"
            ];
            
            const descriptions = [
                "Network architecture for intelligent visitor management and access control at hospital entrances.",
                "Access control and patient tracking system for emergency department operations.",
                "Secure access and monitoring system for patient room safety and medication control.",
                "Regulatory-compliant access control system for pharmacy and medication storage areas.",
                "Centralized monitoring and management system for hospital-wide security integration."
            ];
            
            const titleElement = document.getElementById('topology-title');
            const descElement = document.getElementById('topology-description');
            
            if (titleElement && descElement) {
                titleElement.textContent = titles[scenarioId - 1] || titles[0];
                descElement.textContent = descriptions[scenarioId - 1] || descriptions[0];
            }
        }

        // Initialize Swiper
        var swiper = new Swiper(".swiper-products", {
            slidesPerView: 1,
            spaceBetween: 20,
            pagination: { el: ".swiper-pagination", clickable: true },
            breakpoints: {
                640: { slidesPerView: 2 },
                768: { slidesPerView: 3 },
                1024: { slidesPerView: 4 },
            },
            autoplay: {
                delay: 3000,
                disableOnInteraction: false,
            },
        });

        // Initialize first scenario
        document.addEventListener('DOMContentLoaded', function() {
            showScenario(1);
            
            // Add click handlers for sub-nav breadcrumbs
            document.querySelectorAll('.nav-breadcrumb a').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href').replace('#', '');
                    const targetElement = document.getElementById(targetId);
                    
                    if (targetElement) {
                        let offset = 120;
                        if (targetId === 'topology') {
                            offset = 140; // Slightly different offset for topology
                        }
                        
                        const targetPosition = targetElement.getBoundingClientRect().top + window.pageYOffset - offset;
                        window.scrollTo({ top: targetPosition, behavior: "smooth" });
                    }
                });
            });
        });
    </script>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Road Traffic Intelligent Traffic System Solution | Tongfang BMS</title>
    <meta content="width=device-width, initial-scale=1.0, user-scalable=no" name="viewport">
    <link href="https://pub-a5f450143ad2463386790a33e174fc15.r2.dev/img/logo.png" rel="icon" type="image/jpeg">
  
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800;900&family=Open+Sans:wght@300;400;600&display=swap" rel="stylesheet">
    <!-- Icons -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <!-- Bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        :root {
            /* BRAND COLORS */
            --tf-blue: #004ca3;       
            --tf-yellow: #ffcc00;     
            --tf-red: #e60012;        
            
            /* UI COLORS */
            --tf-dark: #111827;       
            --tf-text: #4b5563;       
            --tf-bg-light: #f9fafb;   
            --tf-white: #ffffff;
            
            --header-height: 80px;
            --card-radius: 12px;
            --transition: all 0.3s cubic-bezier(0.165, 0.84, 0.44, 1);
        }

        body { 
            background-color: var(--tf-white); 
            font-family: 'Open Sans', sans-serif; 
            margin: 0; 
            overflow-x: hidden; 
            color: var(--tf-text); 
            line-height: 1.7;
            padding-top: var(--header-height);
        }
        
        h1, h2, h3, h4, h5 { 
            font-family: 'Montserrat', sans-serif; 
            font-weight: 700; 
            color: var(--tf-blue); 
        }

        /* --- HEADER - SOLID WHITE WITH LOGO --- */
        .header-fix {
            width: 100%;
            position: fixed;
            top: 0;
            z-index: 1030;
            min-height: var(--header-height);
            background: #ffffff; /* SOLID WHITE */
            border-bottom: 1px solid rgba(0,0,0,0.08);
            box-shadow: 0 2px 10px rgba(0,0,0,0.03);
            transition: var(--transition);
        }
        
        .header-container { 
            max-width: 1440px; 
            margin: 0 auto; 
            display: flex; 
            align-items: center; 
            justify-content: space-between; 
            padding: 0 20px; 
            height: var(--header-height); 
        }
        
        /* Logo image styling */
        .logo-img {
            height: 60px;
            width: auto;
            object-fit: contain;
            display: block;
        }
        
        /* Desktop Menu */
        .nav-menu { 
            display: flex; 
            gap: 30px; 
            height: 100%; 
            margin-left: auto; 
            margin-right: 40px; 
            align-items: center; 
        }
       
        /* Logo link styling */
        .header-logo a {
            text-decoration: none !important;
        }

        .header-logo a:hover,
        .header-logo a:focus,
        .header-logo a:active {
            text-decoration: none !important;
            outline: none;
        } 
        
        .nav-link-custom { 
            color: #111827; /* SOLID BLACK */
            font-weight: 600; 
            font-size: 13px; 
            text-transform: uppercase; 
            line-height: var(--header-height); 
            display: block; 
            position: relative; 
            letter-spacing: 0.5px; 
            text-decoration: none;
            cursor: pointer;
        }
        
        .nav-link-custom:hover { 
            color: var(--tf-blue); 
        }
        
        /* Icons & Toggle Wrapper */
        .header-right-actions {
            display: flex;
            align-items: center;
            gap: 20px;
        }
        
        .header-icons { 
            display: flex !important; 
            align-items: center; 
            gap: 15px; 
        }
        
        .header-icons i {
            color: #111827; /* SOLID BLACK */
            font-size: 18px;
            cursor: pointer;
            transition: 0.3s;
        }
        
        .header-icons i:hover {
            color: var(--tf-blue);
        }
        
        /* Dropdown Wrapper */
        .nav-item-dropdown { 
            position: relative; 
            height: 100%; 
            display: flex; 
            align-items: center; 
        }
        
        /* Toggle Icon (Hidden on Desktop, Visible Mobile) */
        .mobile-dropdown-toggle {
            display: none;
            color: #111827;
            padding: 10px 15px;
            cursor: pointer;
            font-size: 14px;
        }
        
        /* Desktop Arrow */
        .desktop-arrow {
            display: inline-block;
            margin-left: 5px;
            font-size: 11px;
            color: #111827;
        }
        
        .dropdown-menu-custom {
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%) translateY(10px);
            width: 700px;
            background: #fff;
            box-shadow: 0 15px 50px rgba(0,0,0,0.15);
            border-top: 3px solid var(--tf-yellow);
            border-radius: 0 0 8px 8px;
            padding: 30px;
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            z-index: 1100;
        }
        
        .dropdown-menu-custom::before {
            content: "";
            position: absolute;
            top: -20px; 
            left: 0; 
            width: 100%; 
            height: 20px; 
            background: transparent;
        }
        
        /* Hover Effect Desktop */
        @media (min-width: 992px) {
            .nav-item-dropdown:hover .dropdown-menu-custom {
                opacity: 1;
                visibility: visible;
                transform: translateX(-50%) translateY(0);
            }
        }
        
        .dropdown-link {
            color: #555; 
            font-size: 13px; 
            font-weight: 600;
            padding: 6px 10px; 
            border-radius: 4px; 
            display: block;
            border-left: 2px solid transparent;
            text-decoration: none;
        }
        
        .dropdown-link:hover {
            background: #f4f7fa; 
            color: var(--tf-blue);
            border-left: 2px solid var(--tf-blue);
            padding-left: 15px;
        }
        
        .dropdown-category {
            grid-column: span 3; 
            color: var(--tf-blue); 
            font-size: 11px; 
            font-weight: 800; 
            text-transform: uppercase; 
            letter-spacing: 1px; 
            margin-top: 10px; 
            margin-bottom: 5px;
            border-bottom: 1px solid #eee; 
            padding-bottom: 5px;
        }
        
        /* Mobile Menu Toggle - always black */
        .mobile-toggle { 
            display: none; 
            font-size: 24px; 
            color: #111827; /* SOLID BLACK */
            cursor: pointer; 
            background: none;
            border: none;
            padding: 0;
        }
        
        /* Enhanced Mobile Dropdown Styles */
        @media (max-width: 991px) {
            .header-fix { 
                height: auto; 
            }
            
            .header-container {
                padding: 0 15px;
                flex-wrap: wrap;
                min-height: 70px;
            }
            
            .logo-img {
                height: 50px;
            }
            
            .nav-menu {
                display: none;
                position: fixed;
                top: 70px;
                left: 0;
                width: 100%;
                background: white;
                flex-direction: column;
                height: calc(100vh - 70px);
                padding: 0;
                margin: 0;
                box-shadow: 0 10px 30px rgba(0,0,0,0.1);
                align-items: stretch;
                overflow-y: auto;
                z-index: 1000;
            }
            
            .nav-menu.active { 
                display: flex; 
                animation: slideDown 0.3s ease;
            }
            
            @keyframes slideDown {
                from {
                    opacity: 0;
                    transform: translateY(-20px);
                }
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }
            
            /* Link Styles Mobile */
            .nav-link-custom {
                color: #333;
                width: 100%;
                padding: 16px 25px;
                line-height: 1.5;
                border-bottom: 1px solid #eee;
                font-size: 14px;
                display: flex;
                justify-content: space-between;
                align-items: center;
            }
            
            /* DROPDOWN LOGIC MOBILE - Enhanced */
            .nav-item-dropdown {
                width: 100%;
                flex-direction: column;
                border-bottom: 1px solid #eee;
            }
            
            .mobile-link-wrapper {
                display: flex;
                width: 100%;
                align-items: center;
                justify-content: space-between;
                position: relative;
            }
            
            .nav-item-dropdown .nav-link-custom {
                border-bottom: none;
                width: calc(100% - 60px);
            }
            
            /* Improved Toggle Button */
            .mobile-dropdown-toggle {
                display: flex;
                align-items: center;
                justify-content: center;
                width: 60px;
                height: 100%;
                border-left: 1px solid #eee;
                color: #333;
                background: transparent;
                cursor: pointer;
                transition: all 0.3s;
            }
            
            .mobile-dropdown-toggle:hover {
                background-color: rgba(0, 76, 163, 0.05);
            }
            
            .nav-item-dropdown.active .mobile-dropdown-toggle i {
                transform: rotate(180deg);
                transition: transform 0.3s;
            }
            
            /* Hide the small arrow inside the link text on mobile */
            .desktop-arrow { display: none; }
            
            /* Dropdown Menu Mobile - Enhanced */
            .dropdown-menu-custom {
                position: static;
                width: 100%;
                transform: none;
                opacity: 1;
                visibility: visible;
                display: none;
                box-shadow: none;
                border-top: 1px solid #eee;
                border-radius: 0;
                padding: 15px 25px 20px;
                background: #f8f9fa;
                grid-template-columns: 1fr;
                animation: fadeIn 0.3s ease;
            }
            
            @keyframes fadeIn {
                from {
                    opacity: 0;
                    max-height: 0;
                }
                to {
                    opacity: 1;
                    max-height: 500px;
                }
            }
            
            .dropdown-menu-custom::before { display: none; }
            
            /* When Active Class added by JS */
            .nav-item-dropdown.active .dropdown-menu-custom {
                display: grid;
                max-height: 500px;
                overflow: hidden;
                transition: max-height 0.3s ease;
            }
            
            .dropdown-category { 
                grid-column: span 1; 
                margin-top: 15px;
                padding-top: 10px;
                border-top: 1px solid #ddd;
            }
            
            .dropdown-category:first-child {
                margin-top: 0;
                padding-top: 0;
                border-top: none;
            }
            
            .dropdown-link {
                padding: 10px 15px;
                margin: 2px 0;
                border-radius: 6px;
                font-size: 13px;
            }
            
            /* Header Elements */
            .mobile-toggle { 
                display: block; 
                color: #111827;
                font-size: 22px;
            }
            
            /* Ensure Icons and Toggle are grouped right */
            .header-right-actions {
                display: flex;
                flex-direction: row;
                gap: 15px;
                align-items: center;
            }
            
            .header-icons {
                color: #111827;
                gap: 12px;
            }
            
            .header-icons i {
                color: #111827;
            }
            
            /* Mobile adjustments for hero */
            .hero-title {
                font-size: 2.2rem !important;
                margin-top: -40px !important;
                line-height: 1.2;
            }
            
            .hero-section {
                height: 50vh;
                min-height: 350px;
            }
            
            .traffic-card {
                padding: 25px 20px;
                margin-bottom: 20px;
            }
            
            .traffic-icon {
                font-size: 2.5rem;
            }
            
            .interactive-container {
                padding: 15px;
            }
            
            .road-container {
                height: 150px;
            }
            
            .stat-circle {
                width: 120px;
                height: 120px;
                margin: 0 auto 15px;
            }
            
            .stat-circle h3 {
                font-size: 2rem;
            }
            
            .scenario-wrapper {
                padding: 30px 0;
                min-height: auto;
            }
            
            .challenge-card,
            .solution-card {
                padding: 20px;
                margin-bottom: 15px;
            }
            
            .hotspot-label {
                font-size: 10px;
                padding: 4px 8px;
                white-space: normal;
                max-width: 100px;
                text-align: center;
                word-break: break-word;
            }
        }
        
        @media (max-width: 576px) {
            .header-container {
                padding: 0 10px;
            }
            
            .header-right-actions { 
                gap: 10px; 
            }
            
            .header-icons { 
                gap: 8px !important; 
            }
            
            .logo-img {
                height: 40px;
            }
            
            .hero-title { 
                font-size: 1.8rem !important; 
                margin-top: -20px !important;
            }
            
            .traffic-btn {
                padding: 8px 16px;
                font-size: 12px;
                margin-bottom: 8px;
                width: 100%;
                max-width: 200px;
            }
            
            .traffic-controls {
                display: flex;
                flex-wrap: wrap;
                justify-content: center;
                gap: 8px;
                margin: 20px 0;
            }
            
            .system-specs {
                padding: 20px;
                margin: 15px 0;
            }
            
            .spec-row {
                flex-direction: column;
                gap: 5px;
                padding: 12px 0;
            }
            
            .roi-banner {
                padding: 30px 15px;
                margin: 20px 0;
            }
            
            .hero-section {
                height: 40vh;
                min-height: 300px;
            }
            
            .nav-link-custom {
                padding: 14px 20px;
                font-size: 13px;
            }
            
            .dropdown-menu-custom {
                padding: 12px 20px 15px;
            }
        }
        
        /* --- HERO SECTION --- */
        .hero-section {
            height: 65vh;
            min-height: 500px;
            background:  url('https://pub-a5f450143ad2463386790a33e174fc15.r2.dev/img/solutions/traffic/smart  trafic hero.jpg'); 
            background-size: cover;
            background-position: center;
            display: flex;
            align-items: center;
            position: relative;
        }
        
        .hero-content {
            position: relative;
            z-index: 2;
            padding-top: 60px;
            animation: fadeUp 1s ease-out;
            text-shadow: 0 2px 20px rgba(0,0,0,0.7);
        }
        
        .hero-title {
            font-size: 3.5rem;
            font-weight: 900;
            color: #fff;
            margin-top: -100px;
            margin-bottom: 95px;
        }
        
        @keyframes fadeUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Sub Navigation */
        .project-nav-bar {
            position: sticky;
            top: 80px;
            z-index: 1020;
            background: #fff;
            padding: 15px 0;
            border-bottom: 1px solid rgba(0,0,0,0.08);
            box-shadow: 0 5px 15px rgba(0,0,0,0.03);
        }
        
        .nav-breadcrumb .breadcrumb-item a {
            color: #666;
            font-weight: 700;
            text-transform: uppercase;
            font-size: 12px;
            letter-spacing: 0.5px;
            text-decoration: none;
        }
        
        .nav-breadcrumb .breadcrumb-item a:hover,
        .nav-breadcrumb .breadcrumb-item.active a {
            color: var(--tf-blue) !important;
        }
        
        .nav-breadcrumb .breadcrumb-item.active::after {
            content: "";
            position: absolute;
            left: 0;
            bottom: -6px;
            width: 100%;
            height: 3px;
            background: var(--tf-yellow);
            border-radius: 10px;
        }
        
        .nav-breadcrumb .breadcrumb-item {
            position: relative;
        }
        
        .nav-breadcrumb .breadcrumb-item+.breadcrumb-item::before {
            content: "|";
            color: #ccc;
            padding: 0 10px;
        }
        
        /* --- CONTENT SECTIONS --- */
        .scroll-target {
            scroll-margin-top: 160px;
        }
        
        .section-header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .section-header h2 {
            font-size: 36px;
            text-transform: uppercase;
            letter-spacing: -1px;
        }
        
        .section-header .line {
            width: 60px;
            height: 5px;
            background: var(--tf-yellow);
            margin: 15px auto;
            border-radius: 10px;
        }
        
        .traffic-card {
            background: #fff;
            padding: 40px;
            border-radius: var(--card-radius);
            box-shadow: 0 10px 30px rgba(0,0,0,0.05);
            border-top: 4px solid var(--tf-yellow);
            height: 100%;
            transition: var(--transition);
            text-align: center;
        }
        
        .traffic-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.1);
        }
        
        .traffic-icon {
            font-size: 3rem;
            color: var(--tf-blue);
            margin-bottom: 25px;
            display: block;
        }
        
        /* ROI BANNER */
        .roi-banner {
            background: linear-gradient(135deg, var(--tf-blue), #002c5f);
            padding: 80px 0;
            color: #fff;
            border-radius: var(--card-radius);
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        
        .stat-circle {
            width: 150px;
            height: 150px;
            border: 4px solid var(--tf-yellow);
            border-radius: 50%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            background: rgba(255,255,255,0.05);
        }
        
        .stat-circle h3 {
            color: var(--tf-yellow);
            font-size: 2.5rem;
            margin: 0;
            font-weight: 800;
        }
        
        /* INTERACTIVE CONTAINER */
        .interactive-container {
            background: #fff;
            border: 1px solid #eee;
            padding: 10px;
            border-radius: 15px;
            margin: 0 auto 60px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.05);
        }
        
        .traffic-btn {
            background: transparent;
            border: 2px solid var(--tf-blue);
            padding: 10px 22px;
            font-weight: 800;
            font-size: 13px;
            text-transform: uppercase;
            border-radius: 30px;
            color: var(--tf-blue);
            transition: var(--transition);
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }
        
        .traffic-btn:hover {
            background: var(--tf-yellow);
            border-color: var(--tf-yellow);
            color: #000;
        }
        
        .traffic-btn.active {
            background: var(--tf-yellow);
            border-color: var(--tf-yellow);
            color: #000;
            box-shadow: 0 5px 15px rgba(255,204,0,0.3);
        }
        
        .traffic-btn::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(0, 76, 163, 0.1);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }
        
        .traffic-btn:active::after {
            width: 300px;
            height: 300px;
        }
        
        /* TRAFFIC SYSTEM SPECS */
        .system-specs {
            background: #fff;
            padding: 40px;
            border-radius: var(--card-radius);
            box-shadow: 0 10px 30px rgba(0,0,0,0.05);
            margin-top: 30px;
        }
        
        .spec-row {
            display: flex;
            justify-content: space-between;
            padding: 15px 0;
            border-bottom: 1px solid #eee;
        }
        
        .spec-label {
            font-weight: 700;
            color: var(--tf-dark);
        }
        
        .spec-value {
            color: var(--tf-text);
        }
        
        /* --- FOOTER --- */
        .footer {
            background: #0b111a;
            color: #aaa;
            padding-top: 80px;
            font-size: 14px;
        }
        
        .footer h5 {
            color: #fff;
            margin-bottom: 30px;
        }
        
        .footer a {
            color: var(--tf-blue) !important;
            text-decoration: none;
            transition: 0.3s;
            font-weight: 600;
            display: block;
            margin-bottom: 8px;
        }
        
        .footer a:hover {
            color: var(--tf-yellow) !important;
            padding-left: 5px;
        }
        
        .copyright {
            background: #05080c;
            border-top: 1px solid #1a222e;
            padding: 25px 0;
            margin-top: 60px;
        }
        
        /* Feature List */
        .feature-list li {
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }
        
        .feature-list i {
            color: var(--tf-yellow);
            margin-right: 10px;
        }
        
        /* Traffic-specific styles */
        .traffic-intersection {
            position: relative;
            background: #f8f9fa;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 30px;
        }
        
        .signal-light {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin: 0 auto 10px;
            transition: all 0.5s;
        }
        
        .signal-red {
            background: #e60012;
            box-shadow: 0 0 15px rgba(230,0,18,0.5);
        }
        
        .signal-yellow {
            background: #ffcc00;
            box-shadow: 0 0 15px rgba(255,204,0,0.5);
        }
        
        .signal-green {
            background: #28a745;
            box-shadow: 0 0 15px rgba(40,167,69,0.5);
        }
        
        /* Traffic Flow Animation */
        .road-container {
            width: 100%;
            height: 200px;
            background: #4a5568;
            position: relative;
            border-radius: 8px;
            overflow: hidden;
            margin: 20px 0;
        }
        
        .road-lane {
            position: absolute;
            width: 100%;
            height: 40px;
            border-top: 2px dashed #e2e8f0;
            border-bottom: 2px dashed #e2e8f0;
        }
        
        .vehicle {
            position: absolute;
            width: 30px;
            height: 20px;
            background: var(--tf-blue);
            border-radius: 4px;
            animation: moveVehicle linear infinite;
        }
        
        .vehicle:nth-child(2) {
            background: var(--tf-red);
            animation-delay: -2s;
        }
        
        .vehicle:nth-child(3) {
            background: var(--tf-yellow);
            animation-delay: -4s;
        }
        
        @keyframes moveVehicle {
            0% { left: -50px; }
            100% { left: 100%; }
        }
        
        /* --- ENHANCED HOTSPOT STYLES --- */
        .interactive-map-container {
            position: relative;
            width: 100%;
            border-radius: var(--card-radius);
            overflow: hidden;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            border: 1px solid rgba(0,0,0,0.05);
            margin-bottom: 40px;
            min-height: 400px;
            background: #f8f9fa;
        }
        
        .map-img {
            width: 100%;
            height: auto;
            display: block;
            min-height: 400px;
            object-fit: cover;
        }
        
        /* Hotspot animations */
        @keyframes pulse {
            0% { transform: scale(1); box-shadow: 0 4px 10px rgba(0,0,0,0.3); }
            50% { transform: scale(1.2); box-shadow: 0 0 0 8px rgba(255, 204, 0, 0.3); }
            100% { transform: scale(1); box-shadow: 0 4px 10px rgba(0,0,0,0.3); }
        }
        
        @keyframes float {
            0%, 100% { transform: translate(-50%, -50%) translateY(0); }
            50% { transform: translate(-50%, -50%) translateY(-5px); }
        }
        
        @keyframes ripple {
            0% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(0);
            }
            100% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(2);
            }
        }
        
        .hotspot {
            position: absolute;
            display: flex;
            align-items: center;
            cursor: pointer;
            z-index: 10;
            transform: translate(-50%, -50%);
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        
        .hotspot:hover {
            z-index: 20;
            transform: translate(-50%, -50%) scale(1.1);
        }
        
        .hotspot-dot {
            width: 36px;
            height: 36px;
            background-color: var(--tf-blue);
            color: #fff;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            font-family: 'Montserrat', sans-serif;
            font-size: 16px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.3);
            border: 2px solid #fff;
            transition: 0.3s;
            position: relative;
        }
        
        .hotspot-dot::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 204, 0, 0.2);
        }
        
        .hotspot.active .hotspot-dot {
            background-color: var(--tf-yellow);
            color: var(--tf-dark);
            transform: scale(1.3);
            box-shadow: 0 0 0 5px rgba(255, 204, 0, 0.4);
            animation: pulse 2s infinite;
        }
        
        .hotspot.active .hotspot-dot::after {
            width: 60px;
            height: 60px;
            animation: ripple 3s infinite;
        }
        
        .hotspot-label {
            background-color: #fff;
            color: #333;
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 700;
            margin-left: 10px;
            white-space: nowrap;
            box-shadow: 0 4px 15px rgba(0,0,0,0.12);
            z-index: 5;
            transition: all 0.3s ease;
            opacity: 0.9;
            min-width: 140px;
            text-align: center;
        }
        
        .hotspot:hover .hotspot-label {
            opacity: 1;
            transform: translateX(5px);
        }
        
        .hotspot.active .hotspot-label {
            background: var(--tf-dark);
            color: #fff;
            opacity: 1;
            transform: translateX(5px);
        }
        
        /* Map highlight effect */
        .map-highlight {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at var(--highlight-x, 50%) var(--highlight-y, 50%), rgba(0, 76, 163, 0.1) 0%, transparent 70%);
            pointer-events: none;
            z-index: 15;
            transition: all 0.5s ease;
        }
        
        /* Tooltip for hotspots */
        .hotspot-tooltip {
            position: absolute;
            background: rgba(255, 255, 255, 0.95);
            color: #333;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 600;
            white-space: nowrap;
            pointer-events: none;
            opacity: 0;
            transform: translateY(10px);
            transition: all 0.3s ease;
            z-index: 25;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            max-width: 200px;
            text-align: center;
        }
        
        .hotspot:hover .hotspot-tooltip {
            opacity: 1;
            transform: translateY(0);
        }
        
        /* --- SCENARIO BOXES FOR HOTSPOT CONTENT --- */
        .scenario-wrapper {
            background: #f8f9fa;
            border-top: 1px solid #eee;
            padding: 60px 0;
            min-height: 500px;
        }
        
        .scenario-box {
            display: none;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.3s ease, transform 0.3s ease;
        }
        
        .scenario-box.active {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }
        
        .scenario-img {
            transition: transform 0.5s ease;
            max-height: 300px;
            object-fit: cover;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .scenario-img:hover {
            transform: scale(1.02);
        }
        
        .challenge-card,
        .solution-card {
            background: #fff;
            padding: 24px 28px;
            border-radius: 12px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.04);
            height: auto;
            margin-bottom: 20px;
        }
        
        .challenge-card {
            border-left: 4px solid var(--tf-red);
        }
        
        .solution-card {
            border-left: 4px solid var(--tf-blue);
        }
        
        /* Diagram styles */
        .system-diagram {
            width: 100%;
            height: auto;
            border-radius: 8px;
            margin: 20px 0;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .feature-item {
            background: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.08);
            border-left: 3px solid var(--tf-yellow);
        }
        
        /* Hotspot Image Cards */
        .hotspot-image-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        
        .hotspot-card {
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            cursor: pointer;
        }
        
        .hotspot-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.12);
        }
        
        .hotspot-card-img {
            width: 100%;
            height: 180px;
            object-fit: cover;
        }
        
        .hotspot-card-content {
            padding: 15px;
        }
        
        .hotspot-card-title {
            font-size: 16px;
            font-weight: 700;
            color: var(--tf-blue);
            margin-bottom: 8px;
        }
        
        .hotspot-card-desc {
            font-size: 13px;
            color: #666;
            margin-bottom: 10px;
        }
        
        .hotspot-card-badge {
            display: inline-block;
            background: var(--tf-yellow);
            color: var(--tf-dark);
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: 700;
            text-transform: uppercase;
        }
        
        /* Social Media Buttons */
        .btn-square {
            width: 40px;
            height: 40px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            background: rgba(255,255,255,0.1);
            border-radius: 6px;
            color: #fff;
            text-decoration: none;
            transition: 0.3s;
        }
        
        .btn-square:hover {
            background: var(--tf-blue);
            transform: translateY(-2px);
        }
        
        /* Responsive adjustments for traffic simulation */
        @media (max-width: 768px) {
            .traffic-intersection .row .col-3 {
                margin-bottom: 20px;
            }
            
            .traffic-stats .row .col-md-3 {
                margin-bottom: 15px;
            }
            
            .hero-section {
                background-position: center 70%;
            }
            
            .hotspot {
                transform: translate(-50%, -50%) scale(0.9);
            }
            
            .hotspot.active {
                transform: translate(-50%, -50%) scale(1);
            }
            
            .hotspot-label {
                font-size: 10px;
                padding: 4px 8px;
                min-width: 100px;
                white-space: normal;
                line-height: 1.2;
            }
            
            .feature-grid {
                grid-template-columns: 1fr;
            }
            
            .hotspot-image-cards {
                grid-template-columns: repeat(2, 1fr);
                gap: 15px;
            }
        }
        
        @media (max-width: 576px) {
            .hotspot-image-cards {
                grid-template-columns: 1fr;
            }
        }
        
        /* ITS Overview Section */
        .its-overview-section {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: 60px 0;
        }
        
        .its-diagram-container {
            position: relative;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .overall-system-img {
            width: 100%;
            border-radius: 12px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
            border: 1px solid rgba(0,0,0,0.05);
        }
        
        .its-description-box {
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.08);
            border-top: 4px solid var(--tf-blue);
            margin-top: 30px;
        }
        
        .feature-benefits-section {
            background: white;
            padding: 60px 0;
        }
        
        .benefit-card {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 10px;
            border-left: 4px solid var(--tf-yellow);
            margin-bottom: 20px;
        }
        
        .benefit-icon {
            font-size: 2.5rem;
            color: var(--tf-blue);
            margin-bottom: 15px;
        }
        
        .its-components-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        
        .component-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            border-top: 3px solid var(--tf-blue);
            text-align: center;
            transition: transform 0.3s ease;
        }
        
        .component-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        
        .component-icon {
            font-size: 2.5rem;
            color: var(--tf-yellow);
            margin-bottom: 15px;
        }
    </style>
</head>

<body>

    <!-- HEADER - SOLID WHITE WITH LOGO -->
    <header>
        <div id="navBox" class="header-fix">
            <div class="header-container">
                <!-- LOGO (Left) -->
                <div class="header-logo">
                    <a href="/index.html">
                        <img src="https://pub-a5f450143ad2463386790a33e174fc15.r2.dev/img/home/logo_brand.png" alt="Tongfang BMS Logo" class="logo-img">
                    </a>
                </div>
                
                <!-- NAVIGATION -->
                <nav id="mainNav" class="nav-menu">
                    <a href="/about/index.html" class="nav-link-custom">About</a>
                    
                    <!-- SOLUTIONS DROPDOWN -->
                    <div class="nav-item-dropdown">
                        <!-- Wrapper to separate Text and Toggle Button on Mobile -->
                        <div class="mobile-link-wrapper">
                            <a href="/solutions/index.html" class="nav-link-custom">
                                Solutions
                                <span class="desktop-arrow"><i class="fa fa-angle-down"></i></span>
                            </a>
                            <!-- Specific Button for Toggling Dropdown on Mobile -->
                            <span class="mobile-dropdown-toggle">
                                <i class="fa fa-angle-down"></i>
                            </span>
                        </div>
                        
                        <div class="dropdown-menu-custom">
                            <!-- Col 1: Buildings -->
                            <div>
                                <div class="dropdown-category">Buildings</div>
                                <a href="/solutions/residential/index.html" class="dropdown-link">Residential</a>
                                <a href="/solutions/office/index.html" class="dropdown-link">Office Buildings</a>
                                <a href="/solutions/hotel-smart-security/index.html" class="dropdown-link">Hotels & Hospitality</a>
                                <a href="/solutions/smart-campus-hub/index.html" class="dropdown-link">Educational Institutions</a>
                                <a href="/solutions/retail/index.html" class="dropdown-link">Shopping Malls</a>
                            </div>
                            <!-- Col 2: Infrastructure -->
                            <div>
                                <div class="dropdown-category">Infrastructure</div>
                                <a href="/solutions/smart-hospital-access/index.html" class="dropdown-link">Hospitals & Healthcare</a>
                                <a href="/solutions/airport/index.html" class="dropdown-link">Airports</a>
                                <a href="/solutions/industrial/index.html" class="dropdown-link">Smart Factories</a>
                                <a href="/solutions/ipdc/index.html" class="dropdown-link">Data Centers (IPDC)</a>
                                <a href="/solutions/smart-port-platform/index.html" class="dropdown-link">Smart Ports</a>
                            </div>
                            <!-- Col 3: Cities & Systems -->
                            <div>
                                <div class="dropdown-category">City Systems</div>
                                <a href="/solutions/smart-city/index.html" class="dropdown-link">Smart Cities</a>
                                <a href="/solutions/traffic/index.html" class="dropdown-link">Smart Traffic</a>
                                <a href="/solutions/sports-center-automation/index.html" class="dropdown-link">Sports & Stadiums</a>
                                <a href="/solutions/parking-lots/index.html" class="dropdown-link">Parking Lots</a>
                                <a href="/solutions/energy-carbon-optimization/index.html" class="dropdown-link">Energy</a>
                            </div>
                        </div>
                    </div>
                    
                    <!-- PRODUCTS DROPDOWN -->
                    <div class="nav-item-dropdown">
                        <div class="mobile-link-wrapper">
                            <a href="/products/index.html" class="nav-link-custom">
                                Products
                                <span class="desktop-arrow"><i class="fa fa-angle-down"></i></span>
                            </a>
                            <!-- Specific Button for Toggling Dropdown on Mobile -->
                            <span class="mobile-dropdown-toggle">
                                <i class="fa fa-angle-down"></i>
                            </span>
                        </div>
                        
                        <div class="dropdown-menu-custom">
                            <!-- Col 1 -->
                            <div>
                                <div class="dropdown-category">Core Controllers</div>
                                <a href="/products/ddc-controllers/index.html" class="dropdown-link">DDC Controllers</a>
                                <a href="/products/io-modules/index.html" class="dropdown-link">I/O Modules</a>
                            </div>
                            <!-- Col 2 -->
                            <div>
                                <div class="dropdown-category">Field Instrumentation</div>
                                <a href="/products/sensors-thermostats/index.html" class="dropdown-link">Sensors & Thermostats</a>
                                <a href="/products/valves-actuators/index.html" class="dropdown-link">Valves & Actuators</a>
                            </div>
                            <!-- Col 3 -->
                            <div>
                                <div class="dropdown-category">Management & Power</div>
                                <a href="/products/bms-software/index.html" class="dropdown-link">BMS Software</a>
                                <a href="/products/energy-meters/index.html" class="dropdown-link">Energy Meters</a>
                                <a href="/products/control-panels/index.html" class="dropdown-link">Control Panels</a>
                            </div>
                        </div>
                    </div>
                    
                    <a href="/technologies/index.html" class="nav-link-custom">Technologies</a>
                    <a href="/projects/index.html" class="nav-link-custom">Projects</a>
                    <a href="/contact/index.html" class="nav-link-custom">Contact</a>
                </nav>
                
                <!-- RIGHT SIDE GROUP (Icons + Hamburger) -->
                <div class="header-right-actions">
                    <!-- HAMBURGER ICON (Visible on Mobile) -->
                    <button class="mobile-toggle" onclick="toggleMobileMenu()">
                        <i class="fa fa-bars"></i>
                    </button>
                    
                    <!-- Header Icons -->
                    <div class="header-icons">
                        <i class="fa fa-search fs-5" style="cursor: pointer;"></i>
                        <i class="fa fa-globe fs-5" style="cursor: pointer;"></i>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- HERO SECTION -->
    <section class="hero-section">
        <div class="container">
            <div class="hero-content">
                <h1 class="hero-title">  INTELLIGENT TRAFFIC <br>SYSTEM</h1>
            </div>
        </div>
    </section>

    <!-- SUB-NAVIGATION -->
    <div class="project-nav-bar py-3 border-bottom bg-white">
        <div class="container d-flex justify-content-between align-items-center">
            
            <nav aria-label="breadcrumb" class="nav-breadcrumb">
                <ol class="breadcrumb mb-0">
                    <li class="breadcrumb-item"><a href="#overview">System Overview</a></li>
                    <li class="breadcrumb-item"><a href="#solutions">Solution Details</a></li>
                    <li class="breadcrumb-item"><a href="#features">Solution Features</a></li>
                    <li class="breadcrumb-item"><a href="#interactive">Interactive Lab</a></li>
                    <li class="breadcrumb-item"><a href="#systems">Core Systems</a></li>
                </ol>
            </nav>

            <div class="d-none d-md-block">
                <span class="text-dark fw-bold small" style="letter-spacing:1px;">
                    <i class="fa fa-traffic-light text-primary me-2" style="color: var(--tf-blue) !important;"></i>
                    FLUID URBAN MOBILITY
                </span>
            </div>
        </div>
    </div>

    <!-- ITS OVERVIEW SECTION -->
    <section class="its-overview-section scroll-target" id="overview">
        <div class="container">
            <div class="section-header">
                <h2>Intelligent Traffic System (ITS) Overview</h2>
                <div class="line"></div>
                <p class="text-secondary">Integration of computer, electronics, communication technologies and management strategies for efficient transportation systems.</p>
            </div>

            <div class="its-diagram-container">
                <img src="https://pub-a5f450143ad2463386790a33e174fc15.r2.dev/img/solutions/traffic/overall-system-diagram.png" alt="ITS Overall System Diagram" class="overall-system-img">
            </div>

            <div class="its-description-box">
                <h4 class="text-primary mb-3"><i class="fa fa-info-circle me-2"></i>What is Intelligent Traffic System?</h4>
                <p class="mb-4">The Intelligent Traffic Systems (ITS) focuses on the integration of computer, electronics, communication technologies and management strategies. It provides relevant traveler information, which helps increase the efficiency of transportation systems.</p>
                
                <div class="its-components-grid">
                    <div class="component-card">
                        <i class="fa fa-shield-alt component-icon"></i>
                        <h5>Traffic Violation Enforcement</h5>
                        <p class="small">Automated detection and enforcement of traffic regulations including speeding, red light violations, and illegal parking.</p>
                    </div>
                    <div class="component-card">
                        <i class="fa fa-chart-line component-icon"></i>
                        <h5>Road Traffic Flow Monitoring</h5>
                        <p class="small">Real-time monitoring of traffic patterns, congestion detection, and flow optimization through advanced sensors and cameras.</p>
                    </div>
                    <div class="component-card">
                        <i class="fa fa-traffic-light component-icon"></i>
                        <h5>Traffic Signal Control</h5>
                        <p class="small">Adaptive traffic signal systems that adjust timing based on real-time traffic conditions to optimize flow and reduce congestion.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Interactive Map with Hotspots -->
    <section class="py-5 bg-white">
        <div class="container">
            <div class="row justify-content-center mb-5">
                <div class="col-12">
                    <div class="interactive-map-container">
                        <h2 style="text-align: center; padding-top: 20px;">Solution Overview</h2>
                        <img src="https://pub-a5f450143ad2463386790a33e174fc15.r2.dev/img/solutions/traffic/overview.png" alt="Traffic Intersection Overview" class="map-img">
                        <!-- Hotspots will be dynamically generated here -->
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- SOLUTION DETAILS SECTION -->
    <section class="py-5 bg-white scroll-target" id="solutions">
        <div class="container">
            <div class="section-header">
                <h2>Solution Details</h2>
                <div class="line"></div>
                <p class="text-secondary">Our comprehensive ITS solutions cover all aspects of modern traffic management.</p>
            </div>

            <!-- Hotspot Image Cards -->
            <div class="hotspot-image-cards">
                <div class="hotspot-card" onclick="showTrafficScenario(1)">
                    <img src="https://pub-a5f450143ad2463386790a33e174fc15.r2.dev/img/solutions/traffic/bus-lane-system.png" alt="Bus Lane Enforcement" class="hotspot-card-img">
                    <div class="hotspot-card-content">
                        <div class="hotspot-card-title">Bus Lane Enforcement</div>
                        <div class="hotspot-card-desc">Automated detection of unauthorized vehicles in bus lanes</div>
                        <span class="hotspot-card-badge">System 1</span>
                    </div>
                </div>
                
                <div class="hotspot-card" onclick="showTrafficScenario(2)">
                    <img src="https://pub-a5f450143ad2463386790a33e174fc15.r2.dev/img/solutions/traffic/red-light-system.png" alt="Red Light Enforcement" class="hotspot-card-img">
                    <div class="hotspot-card-content">
                        <div class="hotspot-card-title">Red Light Enforcement</div>
                        <div class="hotspot-card-desc">Automated detection of red light violations</div>
                        <span class="hotspot-card-badge">System 2</span>
                    </div>
                </div>
                
                <div class="hotspot-card" onclick="showTrafficScenario(3)">
                    <img src="https://pub-a5f450143ad2463386790a33e174fc15.r2.dev/img/solutions/traffic/signal-control-system.png" alt="Traffic Signal Control" class="hotspot-card-img">
                    <div class="hotspot-card-content">
                        <div class="hotspot-card-title">Traffic Signal Control</div>
                        <div class="hotspot-card-desc">Adaptive traffic signal control system</div>
                        <span class="hotspot-card-badge">System 3</span>
                    </div>
                </div>
                
                <div class="hotspot-card" onclick="showTrafficScenario(4)">
                    <img src="https://pub-a5f450143ad2463386790a33e174fc15.r2.dev/img/solutions/traffic/parking-system.png" alt="Parking Violations" class="hotspot-card-img">
                    <div class="hotspot-card-content">
                        <div class="hotspot-card-title">Parking Violations</div>
                        <div class="hotspot-card-desc">Automated parking violation detection</div>
                        <span class="hotspot-card-badge">System 4</span>
                    </div>
                </div>
                
                <div class="hotspot-card" onclick="showTrafficScenario(5)">
                    <img src="https://pub-a5f450143ad2463386790a33e174fc15.r2.dev/img/solutions/traffic/speed-system.png" alt="Speeding Detection" class="hotspot-card-img">
                    <div class="hotspot-card-content">
                        <div class="hotspot-card-title">Speeding Detection</div>
                        <div class="hotspot-card-desc">Point and section speed enforcement</div>
                        <span class="hotspot-card-badge">System 5</span>
                    </div>
                </div>
                
                <div class="hotspot-card" onclick="showTrafficScenario(6)">
                    <img src="https://pub-a5f450143ad2463386790a33e174fc15.r2.dev/img/solutions/traffic/traffic-status-system.png" alt="Real Time Traffic Status" class="hotspot-card-img">
                    <div class="hotspot-card-content">
                        <div class="hotspot-card-title">Real Time Traffic Status</div>
                        <div class="hotspot-card-desc">Real-time traffic monitoring and display</div>
                        <span class="hotspot-card-badge">System 6</span>
                    </div>
                </div>
            </div>

            
            <!-- Dynamic Scenario Content -->
            <div id="traffic-scenarios" class="scenario-wrapper">
                <!-- Scenario content will be dynamically generated here -->
            </div>

            <div class="traffic-controls text-center mb-4 mt-5">
                <button class="traffic-btn active" onclick="switchTrafficView('enforcement')">
                    <i class="fa fa-shield-alt me-2"></i>Traffic Enforcement
                </button>
                <button class="traffic-btn" onclick="switchTrafficView('control')">
                    <i class="fa fa-traffic-light me-2"></i>Traffic Control
                </button>
                <button class="traffic-btn" onclick="switchTrafficView('monitoring')">
                    <i class="fa fa-tv me-2"></i>Real-time Monitoring
                </button>
            </div>
        </div>
    </section>

    <!-- SOLUTION FEATURES SECTION -->
    <section class="feature-benefits-section scroll-target" id="features">
        <div class="container">
            <div class="section-header">
                <h2>Solution Features</h2>
                <div class="line"></div>
                <p class="text-secondary">Key benefits and features of our Intelligent Traffic System</p>
            </div>

            <div class="row">
                <div class="col-lg-4">
                    <div class="benefit-card">
                        <i class="fa fa-shield-alt benefit-icon"></i>
                        <h4>Enhanced Security</h4>
                        <p>Reduce traffic accidents by building up driver awareness of traffic regulations through efficient violation detection and enforcement.</p>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="benefit-card">
                        <i class="fa fa-dollar-sign benefit-icon"></i>
                        <h4>Reduced Labor Costs</h4>
                        <p>Advanced technologies such as LPR and fuzzy search reduce manpower demands on the police force while increasing enforcement efficiency.</p>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="benefit-card">
                        <i class="fa fa-leaf benefit-icon"></i>
                        <h4>Efficient & Eco-friendly</h4>
                        <p>Significantly improves traveler safety and comfort, delivering substantial social and economic benefits by saving energy and protecting the environment.</p>
                    </div>
                </div>
            </div>

            <div class="its-description-box mt-5">
                <img src="https://pub-a5f450143ad2463386790a33e174fc15.r2.dev/img/solutions/traffic/overall-system-diagram.png" alt="Overall System Diagram" class="system-diagram">
                <h5 class="text-primary mt-3">Complete ITS Integration</h5>
                <p>Our comprehensive ITS solution integrates all components into a unified platform that provides seamless traffic management, real-time monitoring, and automated enforcement.</p>
            </div>
        </div>
    </section>

    <!-- INTERACTIVE TRAFFIC EXPERIENCE -->
    <section class="py-5 bg-white scroll-target" id="interactive">
        <div class="container">
            <div class="section-header">
                <h2>Interactive Traffic Simulation</h2>
                <div class="line"></div>
                <p class="text-secondary">Experience how our Intelligent Traffic System optimizes urban mobility in real-time.</p>
            </div>

            <div class="interactive-container">
                <!-- Traffic Flow Visualization -->
                <div class="road-container">
                    <div class="road-lane" style="top: 40px;"></div>
                    <div class="road-lane" style="top: 100px;"></div>
                    <div class="vehicle" style="top: 50px;"></div>
                    <div class="vehicle" style="top: 110px;"></div>
                    <div class="vehicle" style="top: 110px; animation-delay: -3s;"></div>
                </div>
                
                <!-- Traffic Simulation -->
                <div id="traffic-simulation" class="text-center">
                    <h5 class="mb-4">Live Intersection Simulation</h5>
                    <div class="row justify-content-center">
                        <div class="col-md-8">
                            <div class="traffic-intersection">
                                <div class="row mb-4">
                                    <div class="col-3">
                                        <div class="signal-light signal-red" id="north-light"></div>
                                        <small>North</small>
                                    </div>
                                    <div class="col-3">
                                        <div class="signal-light signal-yellow" id="east-light"></div>
                                        <small>East</small>
                                    </div>
                                    <div class="col-3">
                                        <div class="signal-light signal-green" id="south-light"></div>
                                        <small>South</small>
                                    </div>
                                    <div class="col-3">
                                        <div class="signal-light signal-red" id="west-light"></div>
                                        <small>West</small>
                                    </div>
                                </div>
                                
                                <div class="traffic-stats">
                                    <div class="row text-center">
                                        <div class="col-md-3 mb-3">
                                            <h3 id="vehicle-count">0</h3>
                                            <small class="text-muted">Vehicles/min</small>
                                        </div>
                                        <div class="col-md-3 mb-3">
                                            <h3 id="avg-speed">45</h3>
                                            <small class="text-muted">Avg Speed (km/h)</small>
                                        </div>
                                        <div class="col-md-3 mb-3">
                                            <h3 id="queue-length">8</h3>
                                            <small class="text-muted">Queue Length</small>
                                        </div>
                                        <div class="col-md-3 mb-3">
                                            <h3 id="wait-time">25</h3>
                                            <small class="text-muted">Wait Time (sec)</small>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="mt-4">
                                    <button class="btn btn-sm btn-outline-primary me-2" onclick="increaseTraffic()">
                                        <i class="fa fa-plus"></i> Increase Traffic
                                    </button>
                                    <button class="btn btn-sm btn-outline-success me-2" onclick="optimizeSignals()">
                                        <i class="fa fa-magic"></i> Optimize Signals
                                    </button>
                                    <button class="btn btn-sm btn-outline-secondary" onclick="resetSimulation()">
                                        <i class="fa fa-redo"></i> Reset
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="traffic-legend mt-4">
                        <div class="d-flex justify-content-center gap-4 flex-wrap">
                            <div><span class="badge bg-danger me-2"></span> Heavy Traffic</div>
                            <div><span class="badge bg-warning me-2"></span> Moderate Traffic</div>
                            <div><span class="badge bg-success me-2"></span> Light Traffic</div>
                            <div><span class="badge bg-primary me-2"></span> Emergency Vehicle</div>
                        </div>
                    </div>
                </div>
                
                <!-- Traffic System Information -->
                <div class="system-info mt-4 p-4 bg-light rounded">
                    <h5><i class="fa fa-info-circle text-primary me-2"></i>How Intelligent Traffic Systems Work</h5>
                    <p class="mb-0">Our comprehensive traffic solutions use AI algorithms, real-time vehicle detection, and predictive analytics to optimize traffic flow, enforce regulations, and reduce congestion by up to 40%.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- TRAFFIC SYSTEM SPECIFICATIONS -->
    <section class="py-5 bg-light">
        <div class="container">
            <div class="system-specs">
                <h4 class="mb-4 fw-bold"><i class="fa fa-cogs text-primary me-2"></i>Traffic System Specifications</h4>
                <div class="spec-row">
                    <span class="spec-label">Platform</span>
                    <span class="spec-value text-primary fw-bold">Tongfang ITS Command Center v4.0</span>
                </div>
                <div class="spec-row">
                    <span class="spec-label">Detection Accuracy</span>
                    <span class="spec-value">99.8% vehicle detection, 99.5% LPR accuracy</span>
                </div>
                <div class="spec-row">
                    <span class="spec-label">Enforcement Systems</span>
                    <span class="spec-value">Speed, Red Light, Bus Lane, Parking Violations</span>
                </div>
                <div class="spec-row">
                    <span class="spec-label">Communications</span>
                    <span class="spec-value">Fiber Optic, 5G, Wi-Fi 6, IoT Mesh Network</span>
                </div>
                <div class="spec-row">
                    <span class="spec-label">Protocols</span>
                    <span class="spec-value">NTCIP, ITS Standards, TCP/IP, SNMP, MQTT</span>
                </div>
            </div>
        </div>
    </section>

    <!-- CORE SYSTEMS -->
    <section class="py-5 bg-white scroll-target" id="systems">
        <div class="container py-5">
            <div class="section-header">
                <h2>Comprehensive Traffic Solutions</h2>
                <div class="line"></div>
                <p class="text-secondary">End-to-end intelligent traffic management and enforcement systems.</p>
            </div>

            <div class="row g-4">
                <div class="col-lg-4">
                    <div class="traffic-card">
                        <i class="fa fa-tachometer-alt traffic-icon"></i>
                        <h4>Speed Enforcement</h4>
                        <p class="text-muted">Point and section speed enforcement systems with high-precision 3D radar and AI-powered analytics.</p>
                        <ul class="feature-list list-unstyled mt-3 text-start">
                            <li><i class="fa fa-check"></i> 99.8% velocity measurement accuracy</li>
                            <li><i class="fa fa-check"></i> Covers 3 lanes with single camera</li>
                            <li><i class="fa fa-check"></i> Portable and fixed installations</li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="traffic-card">
                        <i class="fa fa-bus traffic-icon"></i>
                        <h4>Bus Lane Enforcement</h4>
                        <p class="text-muted">Automated detection of unauthorized vehicles in bus lanes with real-time LPR and violation processing.</p>
                        <ul class="feature-list list-unstyled mt-3 text-start">
                            <li><i class="fa fa-check"></i> Fully automated violation detection</li>
                            <li><i class="fa fa-check"></i> Real-time database integration</li>
                            <li><i class="fa fa-check"></i> Improves bus transit times by 25%</li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="traffic-card">
                        <i class="fa fa-traffic-light traffic-icon"></i>
                        <h4>Traffic Signal Control</h4>
                        <p class="text-muted">Adaptive traffic signal control systems that adjust timing based on real-time traffic flow and queue length.</p>
                        <ul class="feature-list list-unstyled mt-3 text-start">
                            <li><i class="fa fa-check"></i> Reduces travel times by 10-20%</li>
                            <li><i class="fa fa-check"></i> Emergency vehicle preemption</li>
                            <li><i class="fa fa-check"></i> Weather-adaptive timing</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- ROI BANNER -->
    <section class="container mb-5 scroll-target" id="impact">
        <div class="roi-banner text-center">
            <div class="row justify-content-center">
                <div class="col-lg-8">
                    <h2 class="text-white mb-4">Transforming Urban Mobility Across Africa</h2>
                    <p class="lead mb-5 text-white-50">"Creating smarter, safer, and more efficient transportation networks that connect communities and drive economic growth."</p>
                    
                    <div class="row g-4">
                        <div class="col-md-3">
                            <div class="stat-circle">
                                <h3>40%</h3>
                                <p class="small m-0 text-uppercase fw-bold text-white">Travel Time</p>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="stat-circle">
                                <h3>30%</h3>
                                <p class="small m-0 text-uppercase fw-bold text-white">Emissions</p>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="stat-circle">
                                <h3>25%</h3>
                                <p class="small m-0 text-uppercase fw-bold text-white">Accidents</p>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="stat-circle">
                                <h3>99.8%</h3>
                                <p class="small m-0 text-uppercase fw-bold text-white">Detection Accuracy</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- FOOTER -->
    <footer class="footer">
        <div class="container py-5">
            <div class="row g-4">
                <div class="col-lg-4 col-md-6">
                    <h5>Tongfang BMS Integration</h5>
                    <p><i class="fa fa-map-marker-alt"></i> Addis Ababa, Ethiopia</p>
                    <p><i class="fa fa-phone-alt"></i> +251 9 11249722</p>
                    <p><i class="fa fa-envelope"></i> info@tongfangbms.com</p>
                </div>
                <div class="col-lg-2 col-md-6">
                    <h5>Quick Links</h5>
                    <a href="../index.html">Home</a>
                    <a href="/about/index.html">About Us</a>
                    <a href="/solutions/index.html">Solutions</a>
                    <a href="/projects/index.html">Projects</a>
                    <a href="/products/index.html">Products</a>
                    <a href="/technologies/index.html">Technologies</a>
                    <a href="/contact/index.html">Contact</a>
                </div>
                <div class="col-lg-3 col-md-6">
                    <h5>Business Hours</h5>
                    <p>Mon  Fri: 8:30 AM  5:30 PM</p>
                    <p>Saturday: 9:00 AM  1:00 PM</p>
                    <p>Sunday: Closed</p>
                </div>
                <div class="col-lg-3 col-md-6">
                    <h5>Newsletter</h5>
                    <p>Get smart traffic & urban mobility updates.</p>
                    <div class="position-relative">
                        <input class="form-control" type="email" placeholder="Your email">
                        <button class="btn btn-primary position-absolute end-0 top-0 h-100">Subscribe</button>
                    </div>
                    <div class="d-flex gap-2 mt-3">
                        <a class="btn-square" href="#"><i class="fab fa-facebook-f"></i></a>
                        <a class="btn-square" href="#"><i class="fab fa-linkedin-in"></i></a>
                        <a class="btn-square" href="#"><i class="fab fa-twitter"></i></a>
                        <a class="btn-square" href="#"><i class="fab fa-weixin"></i></a>
                    </div>
                </div>
            </div>
        </div>
        <div class="copyright text-center py-3"> 2026 Tongfang BMS Integration PLC. All Rights Reserved.</div>
    </footer>

    <!-- SCRIPTS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // ============================================
        // COMPREHENSIVE TRAFFIC SOLUTIONS HOTSPOT SYSTEM
        // ============================================
        
        let currentTrafficScenario = 1;
        let hotspotInteractionEnabled = true;
        
        // Hotspot data with all specified traffic systems
        const hotspotData = {
            1: {
                title: "BUS LANE ENFORCEMENT",
                description: "Automated detection of unauthorized vehicles in bus lanes",
                position: { top: "45%", left: "40%" },
                active: true,
                icon: "fa-bus",
                content: {
                    title: "Bus Lane Enforcement System",
                    background: "Millions of commuters, students, parents, and the elderly rely on bus transportation every day to get to where they need to be. Buses help reduce traffic congestion and air pollution because they provide a more efficient way of moving people from one point to another. However, cars and trucks travelling and parking in bus lanes reduces the efficiency of buses and creates unnecessary congestion.",
                    systemOverview: {
                        title: "System Overview",
                        description: "This figure shows a camera with License Plate Recognition (LPR) enabled, capturing both the license plate number and a color snapshot of the vehicle crossing into the bus lane. The system then uploads the images to the Tongfang platform along with the vehicle plate number.",
                        image: "https://pub-a5f450143ad2463386790a33e174fc15.r2.dev/img/solutions/traffic/bus-lane-system.png"
                    },
                    solutionDetails: {
                        title: "Solution Details",
                        description: "The business platform collects the vehicle list and checks to see if they are on the list of permitted vehicles provided by the vehicle registration database. These records can then be verified and traffic tickets can be issued after verification and approval. The system can also sort vehicles by custom rules or plate color, if provided.",
                        image: "https://pub-a5f450143ad2463386790a33e174fc15.r2.dev/img/solutions/traffic/bus-lane-diagram.png"
                    },
                    features: [
                        "Fully automated violation detection",
                        "Real-time database integration with vehicle registration",
                        "Reduces traffic enforcement overhead costs by 40%",
                        "Speeds up bus transit times by 25%",
                        "Video-based vehicle classification - No additional sensors needed"
                    ],
                    serverSupport: [
                        "Search and fuzzy search by plate/time/type of vehicle",
                        "Show plate/record time/processing pictures/linkage video",
                        "Supports live monitoring of bus lanes",
                        "Automatic violation ticketing system"
                    ]
                }
            },
            2: {
                title: "RED LIGHT ENFORCEMENT",
                description: "Automated detection of red light violations",
                position: { top: "33%", left: "50%" },
                active: false,
                icon: "fa-traffic-light",
                content: {
                    title: "Red Light Enforcement System",
                    background: "Safe public transportation is a global concern, especially in responding quickly to traffic accidents. In a modern society with increased mobility, red light violations are a major factor in traffic tragedies. Every year, 21.5% of all traffic accidents are caused by running red lights. The Tongfang Red Light Enforcement Solution reduces accidents to create safer and more secure roads for citizens.",
                    systemOverview: {
                        title: "System Overview",
                        description: "At the core of the Red Light Enforcement Solution is a system that synchronizes the status of red light signals with the triggering signal to cameras. When a violation occurs, the Tongfang all-in-one capture camera takes three images of the violation to be used as evidence.",
                        image: "https://pub-a5f450143ad2463386790a33e174fc15.r2.dev/img/solutions/traffic/red-light-system.png"
                    },
                    solutionDetails: {
                        title: "Solution Details",
                        description: "These images include the vehicle license plate, status of traffic signal, and an overview of the scene. Afterwards, the platform and storage collects the data from each camera and distributes it to client operators for further processing. Edge storage devices ensure data from the cameras is saved, even in the event of transmission failure.",
                        image: "https://pub-a5f450143ad2463386790a33e174fc15.r2.dev/img/solutions/traffic/red-light-diagram.png"
                    },
                    features: [
                        "Embedded LPR with 95% license plate recognition rate",
                        "License plate color, vehicle color, and brand recognition",
                        "Automatic Day/Night Mode switching",
                        "High definition LPR camera captures more details",
                        "Covers 3 or more lanes with only one enforcement device",
                        "Takes 4 snapshots with violation evidence"
                    ],
                    serverSupport: [
                        "Search and fuzzy search by plate/time/type of violations",
                        "Show plate/record time/image thumbnails/linked video",
                        "Supports real time monitoring",
                        "Supports block car alarm system"
                    ]
                }
            },
            3: {
                title: "TRAFFIC SIGNAL CONTROL",
                description: "Adaptive traffic signal control system",
                position: { top: "40%", left: "60%" },
                active: false,
                icon: "fa-signal",
                content: {
                    title: "Traffic Signal Control System",
                    background: "Many signal controllers are unable to automatically adjust signal timing based on real-time traffic flows, which could lead to long traffic queues during rush hour, requiring more police resources to direct traffic.",
                    systemOverview: {
                        title: "System Overview",
                        description: "The Tongfang VACS Solution is a system that can extend traffic light intervals according to the detected vehicle queue length of road intersections. It adopts a traffic flow camera to detect information such as traffic flow, headway, average speed, occupancy, and queue length.",
                        image: "https://pub-a5f450143ad2463386790a33e174fc15.r2.dev/img/solutions/traffic/signal-control-system.png"
                    },
                    solutionDetails: {
                        parts: [
                            {
                                title: "Traffic Data Collection",
                                description: "The collection of traffic data helps manage traffic signals and provide for more efficient signal adjustments based on real traffic data. Traffic authorities can use real-time data to better understand current road conditions and enhance dynamic green light management, which can greatly reduce vehicle idle times. In the morning and evening rush hours, signal times can be adjusted according to actual conditions to provide more time for vehicles on busier roads.",
                                image: "https://pub-a5f450143ad2463386790a33e174fc15.r2.dev/img/solutions/traffic/data-collection.png"
                            },
                            {
                                title: "Adaptive Signal Control",
                                description: "The traffic flow camera detects vehicles in pre-defined lanes and sends the length of vehicle queues to the controller through an Ethernet connection. The controller then triggers and automatically improves signal timings.",
                                image: "https://pub-a5f450143ad2463386790a33e174fc15.r2.dev/img/solutions/traffic/adaptive-control.jpg"
                            },
                            {
                                title: "Traffic Data Processing",
                                description: "An advanced traffic flow information analysis algorithm gets and analyzes a city's traffic conditions in real time and displays results on special road signs in colors of red, yellow, and green to represent the speed of traffic flow. It serves as a guide to help drivers select the best travel route, easing overall traffic congestion.",
                                image: "https://pub-a5f450143ad2463386790a33e174fc15.r2.dev/img/solutions/traffic/data-processing.jpg"
                            }
                        ]
                    },
                    features: [
                        "Reduces number of stops by 30%",
                        "Reduces travel times by 10-20%",
                        "Lowers fuel consumption by 15%",
                        "Reduces operational costs",
                        "Works independently without central platform",
                        "Emergency vehicle preemption"
                    ]
                }
            },
            4: {
                title: "PARKING VIOLATIONS",
                description: "Automated parking violation detection",
                position: { top: "73%", left: "20%" },
                active: false,
                icon: "fa-parking",
                content: {
                    title: "Parking Violation Enforcement System",
                    background: "Illegal parking is the act of parking vehicles in restricted areas such as fire lanes, crosswalks, sidewalks, in front of fire hydrants, etc.",
                    systemOverview: {
                        title: "System Overview",
                        description: "The Tongfang Parking Enforcement solution is a system for detecting parking violations. It is used for simple and effective monitoring of parked cars in selected and precisely defined zones. It can effectively monitor areas where stopping or parking is prohibited, or areas with a limited parking time.",
                        image: "https://pub-a5f450143ad2463386790a33e174fc15.r2.dev/img/solutions/traffic/parking-system.png"
                    },
                    solutionDetails: {
                        title: "Solution Details",
                        description: "Tongfang devotes itself to safeguarding pedestrians, easing the burden on public transportation, and helping the disabled community. Our parking enforcement system uses AI-powered cameras to detect violations in real-time and automatically issue citations.",
                        image: "https://pub-a5f450143ad2463386790a33e174fc15.r2.dev/img/solutions/traffic/parking-diagram.png"
                    },
                    features: [
                        "Real-time violation detection",
                        "Automatic citation generation",
                        "Mobile app for enforcement officers",
                        "Integration with payment systems",
                        "Disability parking space protection",
                        "Fire lane monitoring"
                    ]
                }
            },
            5: {
                title: "SPEEDING DETECTION",
                description: "Point and section speed enforcement",
                position: { top: "90%", left: "30%" },
                active: false,
                icon: "fa-tachometer-alt",
                content: {
                    title: "Speed Detection Enforcement System",
                    background: "Speeding is a major contributor to road accidents and fatalities. Effective speed enforcement is crucial for road safety.",
                    systemOverview: {
                        title: "System Overview",
                        description: "The Tongfang Point Speed Enforcement solution can effectively help transportation authorities detect vehicles which break the speed limit in all types of weather conditions.",
                        image: "https://pub-a5f450143ad2463386790a33e174fc15.r2.dev/img/solutions/traffic/speed-system.png"
                    },
                    solutionDetails: {
                        title: "Solution Details",
                        description: "The system features an all-in-one design which makes it easy to use and install. It consists of an 8MP CCD camera and multi-target tracking radar which provide an accurate instant speed measurement of each passing vehicle with high definition images. What's more, the IR flash lamp ensures excellent imaging capabilities even at night.",
                        diagram: "https://pub-a5f450143ad2463386790a33e174fc15.r2.dev/img/solutions/traffic/speed-diagram.png"
                    },
                    pointSystem: {
                        title: "Point Speed Enforcement System",
                        features: [
                            "Supports measurement of multiple vehicles in different lanes with high-precision 3D radar",
                            "In addition to speed, cameras can also capture details such as plate number, vehicle type, and lane number",
                            "High definition cameras can operate around-the-clock",
                            "Long battery life, touch panel, and compact design provide better on-site enforcement",
                            "Easy setup, instant deployment",
                            "Uses wired / wireless(Wi-Fi, 4G) network to forward data back to control center"
                        ]
                    },
                    sectionSystem: {
                        title: "Section Speed Enforcement System",
                        description: "Also known as Average Speed Measurement, this system calculates the average speed of vehicles over a defined section of road.",
                        features: [
                            "99.8% velocity measurement accuracy",
                            "One camera covers 3 lanes, cost-effective",
                            "Avoids abrupt braking to evade speed measurement",
                            "Reduces accident rates throughout entire section"
                        ],
                        serverSupport: [
                            "Search and fuzzy search by plate/time/type of violations",
                            "Display plate/record time/image thumbnails/linked video",
                            "Average speed measurement/setting according to different vehicle type"
                        ]
                    }
                }
            },
            6: {
                title: "REAL TIME TRAFFIC STATUS",
                description: "Real-time traffic monitoring and display",
                position: { top: "65%", left: "70%" },
                active: false,
                icon: "fa-tv",
                content: {
                    title: "Real-time Traffic Status Display System",
                    background: "Millions of people deal with traffic congestion on a daily basis. The roadways leading into and out of most major cities can become gridlocked due to accidents, road construction, or simply a high number of cars on the road.",
                    systemOverview: {
                        title: "System Overview",
                        description: "Real-time traffic monitoring systems provide up-to-the-minute information about traffic conditions to help drivers make informed decisions and traffic authorities manage flow efficiently.",
                        image: "https://pub-a5f450143ad2463386790a33e174fc15.r2.dev/img/solutions/traffic/traffic-status-system.png"
                    },
                    solutionDetails: {
                        parts: [
                            {
                                title: "Traffic Data Collection",
                                description: "Traffic data is collected by traffic flow cameras using non-intrusive virtual loops where detection is done through advanced computer algorithms and does not involve any road work as in the case of an inductive loop. It can cover 1-4 lanes at a time, and has a 99% detection accuracy at speed below 80km/h.",
                                image: "https://pub-a5f450143ad2463386790a33e174fc15.r2.dev/img/solutions/traffic/data-collection-2.png"
                            },
                            {
                                title: "Information Dissemination",
                                description: "Another core system function is information dissemination, which can also help guide traffic with these additional information types: congestion levels, estimated travel times, accident alerts, and alternative route suggestions.",
                                image: "https://pub-a5f450143ad2463386790a33e174fc15.r2.dev/img/solutions/traffic/info-dissemination.png"
                            }
                        ]
                    },
                    features: [
                        "Works for both highways and surface streets",
                        "Cameras provide accurate data in real-time",
                        "Collects data for transit authorities and traffic planning",
                        "Improves road safety by avoiding incidents and reducing accidents",
                        "Integration with navigation apps and variable message signs",
                        "Predictive analytics for traffic forecasting"
                    ]
                }
            }
        };

        // ============================================
        // HOTSPOT MANAGEMENT FUNCTIONS
        // ============================================
        
        function initializeHotspots() {
            const mapContainer = document.querySelector('.interactive-map-container');
            const scenarioContainer = document.getElementById('traffic-scenarios');
            
            // Clear existing content
            if (mapContainer) {
                mapContainer.querySelectorAll('.hotspot').forEach(h => h.remove());
            }
            
            if (scenarioContainer) {
                scenarioContainer.innerHTML = '';
            }
            
            // Create hotspots
            Object.keys(hotspotData).forEach(id => {
                const data = hotspotData[id];
                
                // Create hotspot element
                const hotspot = document.createElement('div');
                hotspot.id = `hotspot-${id}`;
                hotspot.className = `hotspot ${parseInt(id) === currentTrafficScenario ? 'active' : ''}`;
                hotspot.style.top = data.position.top;
                hotspot.style.left = data.position.left;
                hotspot.style.setProperty('--hotspot-index', id);
                
                hotspot.innerHTML = `
                    <div class="hotspot-dot">${id}</div>
                    <div class="hotspot-label">${data.title}</div>
                    <div class="hotspot-tooltip">${data.description}</div>
                `;
                
                // Add event listeners - only click functionality
                hotspot.addEventListener('click', () => handleHotspotClick(parseInt(id)));
                hotspot.addEventListener('mouseenter', () => handleHotspotHover(parseInt(id), true));
                hotspot.addEventListener('mouseleave', () => handleHotspotHover(parseInt(id), false));
                
                if (mapContainer) {
                    mapContainer.appendChild(hotspot);
                }
                
                // Create scenario content container
                const scenarioBox = document.createElement('div');
                scenarioBox.id = `content-${id}`;
                scenarioBox.className = `scenario-box ${parseInt(id) === currentTrafficScenario ? 'active' : ''}`;
                if (scenarioContainer) {
                    scenarioContainer.appendChild(scenarioBox);
                }
            });
            
            // Initialize first scenario content
            updateScenarioContent(currentTrafficScenario);
        }
        
        function handleHotspotClick(id) {
            if (!hotspotInteractionEnabled) return;
            
            showTrafficScenario(id);
        }
        
        function handleHotspotHover(id, isEntering) {
            const hotspot = document.getElementById(`hotspot-${id}`);
            if (!hotspot) return;
            
            if (isEntering && id !== currentTrafficScenario) {
                hotspot.style.transform = 'translate(-50%, -50%) scale(1.15)';
                hotspot.style.zIndex = '20';
            } else if (!isEntering && id !== currentTrafficScenario) {
                hotspot.style.transform = 'translate(-50%, -50%) scale(1)';
                hotspot.style.zIndex = '10';
            }
        }
        
        function showTrafficScenario(id) {
            currentTrafficScenario = id;
            
            // Update all hotspots
            document.querySelectorAll('.hotspot').forEach((el) => {
                const hotspotId = parseInt(el.id.replace('hotspot-', ''));
                if (hotspotId === id) {
                    el.classList.add('active');
                    el.style.zIndex = '20';
                } else {
                    el.classList.remove('active');
                    el.style.zIndex = '10';
                }
            });
            
            // Update scenario content
            updateScenarioContent(id);
            
            // Highlight map area
            highlightMapArea(id);
            
            // Scroll to scenario content
            const offset = 160;
            const scenarioContainer = document.getElementById('traffic-scenarios');
            if (scenarioContainer) {
                const elementPosition = scenarioContainer.getBoundingClientRect().top;
                const offsetPosition = elementPosition + window.pageYOffset - offset;
                
                window.scrollTo({
                    top: offsetPosition,
                    behavior: 'smooth'
                });
            }
        }
        
        function updateScenarioContent(id) {
            const data = hotspotData[id].content;
            const scenarioBox = document.getElementById(`content-${id}`);
            const allBoxes = document.querySelectorAll('.scenario-box');
            
            if (!scenarioBox) return;
            
            // Hide all boxes with fade out
            allBoxes.forEach(box => {
                box.style.opacity = '0';
                box.style.transform = 'translateY(20px)';
                setTimeout(() => {
                    box.classList.remove('active');
                    box.style.display = 'none';
                }, 300);
            });
            
            // Generate content based on hotspot type
            let contentHTML = '';
            
            switch(id) {
                case 1: // BUS LANE ENFORCEMENT
                case 2: // RED LIGHT ENFORCEMENT
                case 4: // PARKING VIOLATIONS
                    contentHTML = generateStandardContent(id, data);
                    break;
                case 3: // TRAFFIC SIGNAL CONTROL
                case 6: // REAL TIME TRAFFIC STATUS
                    contentHTML = generateMultiPartContent(id, data);
                    break;
                case 5: // SPEEDING DETECTION
                    contentHTML = generateSpeedDetectionContent(id, data);
                    break;
                default:
                    contentHTML = generateStandardContent(id, data);
            }
            
            // Update content
            scenarioBox.innerHTML = contentHTML;
            
            // Show selected box with fade in
            setTimeout(() => {
                scenarioBox.style.display = 'block';
                setTimeout(() => {
                    scenarioBox.classList.add('active');
                    scenarioBox.style.opacity = '1';
                    scenarioBox.style.transform = 'translateY(0)';
                }, 50);
            }, 350);
        }
        
        function generateStandardContent(id, data) {
            return `
                <h3 class="mb-4 text-primary"><i class="fa ${hotspotData[id].icon} me-2"></i>${id}. ${data.title}</h3>
                
                <div class="row mb-4">
                    <div class="col-12">
                        <div class="challenge-card">
                            <h5 class="text-primary fw-bold"><i class="fa fa-info-circle me-2"></i>Background</h5>
                            <p class="mb-0">${data.background}</p>
                        </div>
                    </div>
                </div>
                
                <div class="row g-5 mb-4">
                    <div class="col-lg-6">
                        <div class="solution-card">
                            <h5 class="text-primary fw-bold"><i class="fa fa-cogs me-2"></i>${data.systemOverview.title}</h5>
                            <p>${data.systemOverview.description}</p>
                            <img src="${data.systemOverview.image}" class="img-fluid rounded system-diagram" alt="${data.title}">
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <div class="solution-card">
                            <h5 class="text-primary fw-bold"><i class="fa fa-check-circle me-2"></i>${data.solutionDetails.title}</h5>
                            <p>${data.solutionDetails.description}</p>
                            <img src="${data.solutionDetails.image}" class="img-fluid rounded system-diagram" alt="${data.title} Diagram">
                        </div>
                    </div>
                </div>
                
                <div class="row g-4">
                    <div class="col-lg-${data.serverSupport ? '6' : '12'}">
                        <div class="feature-grid">
                            ${data.features.map((feature, index) => `
                                <div class="feature-item">
                                    <h6><i class="fa fa-check text-success me-2"></i>${feature}</h6>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                    ${data.serverSupport ? `
                    <div class="col-lg-6">
                        <div class="solution-card">
                            <h5 class="text-primary fw-bold"><i class="fa fa-server me-2"></i>Traffic Management Server Support</h5>
                            <ul class="list-unstyled">
                                ${data.serverSupport.map(item => `<li class="mb-2"><i class="fa fa-arrow-right text-yellow me-2"></i>${item}</li>`).join('')}
                            </ul>
                        </div>
                    </div>
                    ` : ''}
                </div>
            `;
        }
        
        function generateMultiPartContent(id, data) {
            return `
                <h3 class="mb-4 text-primary"><i class="fa ${hotspotData[id].icon} me-2"></i>${id}. ${data.title}</h3>
                
                <div class="row mb-4">
                    <div class="col-12">
                        <div class="challenge-card">
                            <h5 class="text-primary fw-bold"><i class="fa fa-info-circle me-2"></i>Background</h5>
                            <p class="mb-0">${data.background}</p>
                        </div>
                    </div>
                </div>
                
                <div class="row mb-4">
                    <div class="col-12">
                        <div class="solution-card">
                            <h5 class="text-primary fw-bold"><i class="fa fa-cogs me-2"></i>${data.systemOverview.title}</h5>
                            <p>${data.systemOverview.description}</p>
                            <img src="${data.systemOverview.image}" class="img-fluid rounded system-diagram" alt="${data.title}">
                        </div>
                    </div>
                </div>
                
                ${data.solutionDetails.parts.map((part, index) => `
                <div class="row mb-4 ${index % 2 === 1 ? 'flex-row-reverse' : ''}">
                    <div class="col-lg-6">
                        <div class="solution-card h-100">
                            <h5 class="text-primary fw-bold"><i class="fa fa-cog me-2"></i>${part.title}</h5>
                            <p>${part.description}</p>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <img src="${part.image}" class="img-fluid rounded scenario-img" alt="${part.title}">
                    </div>
                </div>
                `).join('')}
                
                <div class="row mt-4">
                    <div class="col-12">
                        <div class="feature-grid">
                            ${data.features.map((feature, index) => `
                                <div class="feature-item">
                                    <h6><i class="fa fa-check text-success me-2"></i>${feature}</h6>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                </div>
            `;
        }
        
        function generateSpeedDetectionContent(id, data) {
            return `
                <h3 class="mb-4 text-primary"><i class="fa ${hotspotData[id].icon} me-2"></i>${id}. ${data.title}</h3>
                
                <div class="row mb-4">
                    <div class="col-12">
                        <div class="challenge-card">
                            <h5 class="text-primary fw-bold"><i class="fa fa-info-circle me-2"></i>Background</h5>
                            <p class="mb-0">${data.background}</p>
                        </div>
                    </div>
                </div>
                
                <div class="row g-5 mb-4">
                    <div class="col-lg-6">
                        <div class="solution-card">
                            <h5 class="text-primary fw-bold"><i class="fa fa-cogs me-2"></i>${data.systemOverview.title}</h5>
                            <p>${data.systemOverview.description}</p>
                            <img src="${data.systemOverview.image}" class="img-fluid rounded system-diagram" alt="${data.title}">
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <div class="solution-card">
                            <h5 class="text-primary fw-bold"><i class="fa fa-check-circle me-2"></i>${data.solutionDetails.title}</h5>
                            <p>${data.solutionDetails.description}</p>
                            <img src="${data.solutionDetails.diagram}" class="img-fluid rounded system-diagram" alt="Portable Installation Diagram">
                        </div>
                    </div>
                </div>
                
                <div class="row g-4 mb-4">
                    <div class="col-lg-6">
                        <div class="solution-card">
                            <h5 class="text-primary fw-bold"><i class="fa fa-bullseye me-2"></i>Point Speed Enforcement System</h5>
                            <div class="feature-grid">
                                ${data.pointSystem.features.map((feature, index) => `
                                    <div class="feature-item">
                                        <h6><i class="fa fa-check text-success me-2"></i>${feature}</h6>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <div class="solution-card">
                            <h5 class="text-primary fw-bold"><i class="fa fa-road me-2"></i>Section Speed Enforcement System</h5>
                            <p>${data.sectionSystem.description}</p>
                            <div class="feature-grid">
                                ${data.sectionSystem.features.map((feature, index) => `
                                    <div class="feature-item">
                                        <h6><i class="fa fa-check text-success me-2"></i>${feature}</h6>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="row">
                    <div class="col-12">
                        <div class="solution-card">
                            <h5 class="text-primary fw-bold"><i class="fa fa-server me-2"></i>Traffic Management Server Support</h5>
                            <ul class="list-unstyled">
                                ${data.sectionSystem.serverSupport.map(item => `<li class="mb-2"><i class="fa fa-arrow-right text-yellow me-2"></i>${item}</li>`).join('')}
                            </ul>
                        </div>
                    </div>
                </div>
            `;
        }
        
        function highlightMapArea(id) {
            const mapContainer = document.querySelector('.interactive-map-container');
            if (!mapContainer) return;
            
            const existingHighlight = document.querySelector('.map-highlight');
            
            if (existingHighlight) {
                existingHighlight.remove();
            }
            
            const hotspot = document.getElementById(`hotspot-${id}`);
            if (!hotspot) return;
            
            const highlight = document.createElement('div');
            highlight.className = 'map-highlight';
            
            const rect = hotspot.getBoundingClientRect();
            const containerRect = mapContainer.getBoundingClientRect();
            
            const x = ((rect.left + rect.width / 2 - containerRect.left) / containerRect.width) * 100;
            const y = ((rect.top + rect.height / 2 - containerRect.top) / containerRect.height) * 100;
            
            highlight.style.setProperty('--highlight-x', `${x}%`);
            highlight.style.setProperty('--highlight-y', `${y}%`);
            
            mapContainer.appendChild(highlight);
            
            // Remove highlight after delay
            setTimeout(() => {
                highlight.style.opacity = '0';
                setTimeout(() => {
                    if (highlight.parentNode) {
                        highlight.remove();
                    }
                }, 500);
            }, 2000);
        }
        
        // ============================================
        // TRAFFIC SIMULATION FUNCTIONS
        // ============================================
        
        let vehicleCount = 0;
        let avgSpeed = 45;
        let queueLength = 8;
        let waitTime = 25;
        let simulationInterval = null;
        let isSimulationRunning = false;
        
        const lightStates = {
            north: 'red',
            east: 'yellow',
            south: 'green',
            west: 'red'
        };
        
        function updateStats() {
            const vehicleCountEl = document.getElementById('vehicle-count');
            const avgSpeedEl = document.getElementById('avg-speed');
            const queueLengthEl = document.getElementById('queue-length');
            const waitTimeEl = document.getElementById('wait-time');
            
            if (vehicleCountEl) vehicleCountEl.textContent = vehicleCount;
            if (avgSpeedEl) avgSpeedEl.textContent = avgSpeed;
            if (queueLengthEl) queueLengthEl.textContent = queueLength;
            if (waitTimeEl) waitTimeEl.textContent = waitTime;
        }
        
        function startSimulation() {
            if (isSimulationRunning) return;
            isSimulationRunning = true;
            
            simulationInterval = setInterval(() => {
                // Random traffic fluctuations
                vehicleCount += Math.floor(Math.random() * 5) - 2;
                if (vehicleCount < 0) vehicleCount = 0;
                
                avgSpeed = 45 + Math.floor(Math.random() * 20) - 10;
                if (avgSpeed < 20) avgSpeed = 20;
                if (avgSpeed > 80) avgSpeed = 80;
                
                queueLength = 8 + Math.floor(Math.random() * 10) - 5;
                if (queueLength < 0) queueLength = 0;
                
                waitTime = 25 + Math.floor(Math.random() * 15) - 7;
                if (waitTime < 10) waitTime = 10;
                if (waitTime > 60) waitTime = 60;
                
                updateStats();
            }, 2000);
        }
        
        function stopSimulation() {
            clearInterval(simulationInterval);
            isSimulationRunning = false;
        }
        
        function increaseTraffic() {
            if (!isSimulationRunning) startSimulation();
            
            vehicleCount += 10;
            avgSpeed -= 5;
            if (avgSpeed < 20) avgSpeed = 20;
            
            queueLength += 3;
            waitTime += 8;
            
            updateStats();
            
            if (vehicleCount > 30) {
                changeLightColor('east', 'yellow');
                changeLightColor('south', 'yellow');
            }
        }
        
        function optimizeSignals() {
            avgSpeed += 15;
            if (avgSpeed > 80) avgSpeed = 80;
            
            queueLength = Math.max(0, queueLength - 4);
            waitTime = Math.max(10, waitTime - 12);
            
            changeLightColor('north', 'green');
            changeLightColor('east', 'red');
            changeLightColor('south', 'red');
            changeLightColor('west', 'green');
            
            updateStats();
            
            const infoDiv = document.querySelector('.system-info');
            if (infoDiv) {
                infoDiv.innerHTML = `
                    <h5><i class="fa fa-magic text-primary me-2"></i>Signals Optimized!</h5>
                    <p class="mb-0">AI algorithms have adjusted signal timing. Traffic flow improved by 25%.</p>
                `;
                
                setTimeout(() => {
                    infoDiv.innerHTML = `
                        <h5><i class="fa fa-info-circle text-primary me-2"></i>How Intelligent Traffic Systems Work</h5>
                        <p class="mb-0">Our comprehensive traffic solutions use AI algorithms, real-time vehicle detection, and predictive analytics to optimize traffic flow, enforce regulations, and reduce congestion by up to 40%.</p>
                    `;
                }, 3000);
            }
        }
        
        function resetSimulation() {
            stopSimulation();
            
            vehicleCount = 0;
            avgSpeed = 45;
            queueLength = 8;
            waitTime = 25;
            
            changeLightColor('north', 'red');
            changeLightColor('east', 'yellow');
            changeLightColor('south', 'green');
            changeLightColor('west', 'red');
            
            updateStats();
        }
        
        function changeLightColor(direction, color) {
            const light = document.getElementById(`${direction}-light`);
            if (light) {
                light.className = `signal-light signal-${color}`;
                lightStates[direction] = color;
            }
        }
        
        function switchTrafficView(view) {
            const infoDiv = document.querySelector('.system-info');
            if (!infoDiv) return;
            
            switch(view) {
                case 'enforcement':
                    infoDiv.innerHTML = `
                        <h5><i class="fa fa-shield-alt text-primary me-2"></i>Traffic Enforcement Systems</h5>
                        <p class="mb-0">Comprehensive enforcement solutions including speed detection, red light enforcement, bus lane monitoring, and parking violation detection with 99.8% accuracy.</p>
                    `;
                    break;
                    
                case 'control':
                    infoDiv.innerHTML = `
                        <h5><i class="fa fa-traffic-light text-primary me-2"></i>Traffic Control Systems</h5>
                        <p class="mb-0">Adaptive traffic signal control systems that adjust timing in real-time based on traffic flow, reducing congestion and improving overall traffic efficiency.</p>
                    `;
                    break;
                    
                case 'monitoring':
                    infoDiv.innerHTML = `
                        <h5><i class="fa fa-tv text-primary me-2"></i>Real-time Traffic Monitoring</h5>
                        <p class="mb-0">Advanced monitoring systems providing real-time traffic status, congestion alerts, and predictive analytics for efficient traffic management.</p>
                    `;
                    break;
            }
            
            // Update active button
            document.querySelectorAll('.traffic-btn').forEach(btn => btn.classList.remove('active'));
            if (event && event.target) {
                event.target.classList.add('active');
            }
        }
        
        // ============================================
        // ENHANCED HEADER AND MOBILE MENU FUNCTIONS
        // ============================================
        
        window.addEventListener('scroll', function() {
            const header = document.getElementById('navBox');
            if (window.scrollY > 50) {
                header.classList.add('scrolled');
            } else {
                header.classList.remove('scrolled');
            }
        });
        
        function toggleMobileMenu() {
            const navMenu = document.getElementById('mainNav');
            navMenu.classList.toggle('active');
            
            // Toggle hamburger icon
            const toggleBtn = document.querySelector('.mobile-toggle i');
            if (navMenu.classList.contains('active')) {
                toggleBtn.classList.remove('fa-bars');
                toggleBtn.classList.add('fa-times');
            } else {
                toggleBtn.classList.remove('fa-times');
                toggleBtn.classList.add('fa-bars');
            }
        }
        
        // Close menu when clicking outside
        document.addEventListener('click', function(event) {
            const navMenu = document.getElementById('mainNav');
            const mobileToggle = document.querySelector('.mobile-toggle');
            
            if (!navMenu.contains(event.target) && !mobileToggle.contains(event.target)) {
                navMenu.classList.remove('active');
                const toggleBtn = document.querySelector('.mobile-toggle i');
                toggleBtn.classList.remove('fa-times');
                toggleBtn.classList.add('fa-bars');
            }
        });
        
        // Enhanced mobile dropdown handling
        document.querySelectorAll('.mobile-dropdown-toggle').forEach(toggleBtn => {
            toggleBtn.addEventListener('click', function(e) {
                if (window.innerWidth <= 991) {
                    e.preventDefault();
                    e.stopPropagation();
                    
                    const dropdown = this.closest('.nav-item-dropdown');
                    const isActive = dropdown.classList.contains('active');
                    
                    // Close all other dropdowns
                    document.querySelectorAll('.nav-item-dropdown').forEach(otherDropdown => {
                        if (otherDropdown !== dropdown) {
                            otherDropdown.classList.remove('active');
                        }
                    });
                    
                    // Toggle current dropdown
                    dropdown.classList.toggle('active');
                    
                    // Update icon
                    const icon = this.querySelector('i');
                    icon.style.transform = dropdown.classList.contains('active') ? 'rotate(180deg)' : 'rotate(0deg)';
                }
            });
        });
        
        // Close dropdowns when clicking on dropdown links
        document.querySelectorAll('.dropdown-link').forEach(link => {
            link.addEventListener('click', function() {
                if (window.innerWidth <= 991) {
                    document.querySelectorAll('.nav-item-dropdown').forEach(dropdown => {
                        dropdown.classList.remove('active');
                    });
                    document.getElementById('mainNav').classList.remove('active');
                    const toggleBtn = document.querySelector('.mobile-toggle i');
                    toggleBtn.classList.remove('fa-times');
                    toggleBtn.classList.add('fa-bars');
                }
            });
        });
        
        // ============================================
        // BREADCRUMB NAVIGATION
        // ============================================
        
        document.querySelectorAll('.nav-breadcrumb a').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const targetId = this.getAttribute('href').replace('#', '');
                const targetElement = document.getElementById(targetId);
                
                if (targetElement) {
                    let offset = 120;
                    if (targetId === 'topology') {
                        offset = 140;
                    }
                    
                    const targetPosition = targetElement.getBoundingClientRect().top + window.pageYOffset - offset;
                    window.scrollTo({ top: targetPosition, behavior: "smooth" });
                }
            });
        });
        
        // ============================================
        // INITIALIZATION
        // ============================================
        
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize hotspots
            initializeHotspots();
            
            // Initialize traffic simulation
            updateStats();
            startSimulation();
            
            // No auto rotation - hotspots only respond to clicks
            
            // Responsive padding adjustment
            if (window.innerWidth <= 991) {
                document.body.style.paddingTop = "70px";
                document.getElementById('navBox').classList.add('scrolled');
            }
        });
        
        window.addEventListener('resize', function() {
            // Re-initialize hotspots on resize
            setTimeout(initializeHotspots, 100);
            
            // Responsive padding adjustment
            if (window.innerWidth <= 991) {
                document.body.style.paddingTop = "70px";
            } else {
                document.body.style.paddingTop = "80px";
            }
        });
    </script>
</body>
</html>